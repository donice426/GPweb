<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>gpVision‚Ñ¢ | Manual T√©cnico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --bg0:#070e18;
      --bg2:#0f1e33;
      --panel: rgba(255,255,255,.04);
      --stroke: rgba(255,255,255,.10);
      --text:#eaf1ff;
      --muted:#b9c6e3;
      --brand:#4da3ff;
      --brand2:#38d4ff;
      --shadow: 0 16px 50px rgba(0,0,0,.45);
      --r20:20px;
      --card: rgba(255,255,255,.04);
      --r: 16px;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:"Segoe UI", Tahoma, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 15% 10%, rgba(77,163,255,.18), transparent 60%),
        radial-gradient(900px 600px at 80% 90%, rgba(77,163,255,.10), transparent 55%),
        linear-gradient(135deg, var(--bg0), var(--bg2));
    }

    header{
      position:sticky;
      top:0;
      background:rgba(8,14,24,.9);
      border-bottom:1px solid rgba(255,255,255,.08);
      z-index:10;
    }

    header .wrap{
      max-width:1100px;
      margin:auto;
      padding:14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    header h1{
      margin:0;
      font-size:16px;
    }

    header span{
      font-size:12px;
      color:var(--muted);
    }

    .btn{
      padding:9px 14px;
      border-radius:12px;
      text-decoration:none;
      font-weight:700;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.04);
      color:var(--text);
      display:inline-flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
      user-select:none;
    }
    .btn.primary{
      border-color: rgba(77,163,255,.55);
      background: linear-gradient(180deg, rgba(77,163,255,.18), rgba(56,212,255,.12));
    }
    .btn.primary:hover{ border-color: rgba(77,163,255,.85); }

    main{
      max-width:1100px;
      margin:auto;
      padding:26px 18px 50px;
    }

    /* ===== SECTIONS ===== */
    .section{
      margin-top:40px;
    }

    .section-title{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:8px;
    }

    .bar{
      width:10px;
      height:22px;
      border-radius:8px;
      background:linear-gradient(180deg,var(--brand),var(--brand2));
    }

    .section-title h2{
      margin:0;
      font-size:18px;
    }

    .section-sub{
      font-size:13px;
      color:var(--muted);
      margin-bottom:18px;
      max-width:800px;
      line-height:1.65;
    }

    /* ===== FIGURE BLOCK ===== */
    .figure{
      background:var(--panel);
      border:1px solid var(--stroke);
      border-radius:var(--r20);
      box-shadow:var(--shadow);
      margin-bottom:20px;

      position: relative;
      overflow: hidden;
      will-change: transform;
    }

    .figure-h{
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }

    .figure-h h3{
      margin:0;
      font-size:14px;
      transition: transform .18s ease, letter-spacing .18s ease;
    }

    .figure-h .hint{
      font-size:12px;
      color:var(--muted);
      margin-top:4px;
    }

    .ph{
      height:230px;
      margin:14px 16px;
      border-radius:16px;
      border:2px dashed rgba(255,255,255,.25);
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      font-size:12px;
      color:rgba(255,255,255,.6);
    }

    .figure-b{
      padding:0 16px 16px;
      font-size:13px;
      color:var(--muted);
      line-height:1.55;
    }

    footer{
      text-align:center;
      font-size:12px;
      color:rgba(255,255,255,.4);
      padding:20px;
    }

    /* ===== IM√ÅGENES ===== */
    .img-figure{
      width: 80%;
      max-width: 900px;
      margin:14px auto;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      display:block;
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease, opacity .18s ease, filter .18s ease;
    }

    .img-figure.xs{ width:25%; }
    .img-figure.s{ width:35%; }
    .img-figure.ss{ width:50%; }
    .img-figure.sm{ width:75%; }
    .img-figure.md{ width:85%; }
    .img-figure.lg{ width:95%; }

    /* ===== BUSCADOR ===== */
    .search-wrap{
      margin-top: 14px;
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow: visible;
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease, opacity .18s ease, filter .18s ease;
    }
    .search-head{
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .search-head h3{ margin:0; font-size: 14px; }
    .search-head .hint{ margin-top: 4px; font-size: 12px; color: var(--muted); }
    .search-body{ padding: 14px 16px 16px; }
    .search-row{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap: wrap;
    }
    .search-input{
      flex: 1;
      min-width: 220px;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      color: var(--text);
      outline: none;
    }
    .search-input:focus{ border-color: rgba(77,163,255,.55); }
    .search-meta{ margin-top: 10px; font-size: 12px; color: rgba(230,237,245,.60); }

    /* resaltado */
    mark.gp-hit{
      background: rgba(77,163,255,.25);
      border: 1px solid rgba(77,163,255,.35);
      color: var(--text);
      padding: 0 2px;
      border-radius: 6px;
    }
    mark.gp-hit.active{
      background: rgba(77,163,255,.45);
      border-color: rgba(77,163,255,.75);
      box-shadow: 0 0 0 6px rgba(77,163,255,.14);
    }

    /* ===== AUTOCOMPLETE LIST ===== */
    .search-suggest{
      position: relative;
      flex: 1;
      min-width: 220px;
    }
    .search-suggest .search-input{ width: 100%; }

    .suggest-list{
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      right: 0;
      background: rgba(10,20,34,.98);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 14px;
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      overflow: hidden;
      z-index: 999;
      max-height: 280px;
      overflow-y: auto;
      display: none;
    }

    .suggest-item{
      padding: 10px 12px;
      cursor: pointer;
      border-top: 1px solid rgba(255,255,255,.08);
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease, opacity .18s ease, filter .18s ease;
    }
    .suggest-item:first-child{ border-top: none; }
    .suggest-item:hover,
    .suggest-item.active{
      background: rgba(77,163,255,.12);
    }
    .suggest-title{
      font-size: 13px;
      color: rgba(230,237,245,.92);
      line-height: 1.35;
    }

    .suggest-hi{
      background: rgba(77,163,255,.22);
      border: 1px solid rgba(77,163,255,.35);
      padding: 0 2px;
      border-radius: 6px;
    }

    /* =========================
       ANIMACIONES / INTERACCIONES
       ========================= */
    html{ scroll-behavior:smooth; }

    .btn, .figure, .suggest-item{
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease, opacity .18s ease, filter .18s ease;
    }

    .btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(0,0,0,.28);
    }
    .btn:active{ transform: translateY(0px) scale(.98); }

    .figure:hover{
      transform: translateY(-3px);
      border-color: rgba(77,163,255,.40);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
    }
    .figure:hover .figure-h h3{
      transform: translateX(2px);
      letter-spacing: .2px;
    }

    .figure::after{
      content:"";
      position:absolute;
      inset:-40% -60%;
      background: linear-gradient(120deg,
        transparent 0%,
        rgba(77,163,255,.08) 35%,
        rgba(56,212,255,.10) 50%,
        rgba(77,163,255,.08) 65%,
        transparent 100%
      );
      transform: translateX(-35%) rotate(8deg);
      opacity: 0;
      pointer-events:none;
      transition: opacity .18s ease;
    }
    .figure:hover::after{
      opacity: 1;
      animation: gpShine 1.2s ease forwards;
    }
    @keyframes gpShine{
      0%{ transform: translateX(-35%) rotate(8deg); }
      100%{ transform: translateX(35%) rotate(8deg); }
    }

    .img-figure:hover{
      transform: scale(1.02);
      filter: saturate(1.03);
    }
    .img-figure:active{
      transform: scale(1.00);
    }

    .suggest-item:hover{
      transform: translateY(-1px);
      border-color: rgba(77,163,255,.25);
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; }
      html{ scroll-behavior:auto; }
    }

    /* ===== Reveal (FIX) =====
       Problema original: algunos bloques quedaban en opacity:0
       porque IntersectionObserver puede ‚Äúsaltarse‚Äù elementos con cambios
       de layout (im√°genes/iframes) o en algunos navegadores.
       Soluci√≥n: mantenemos IO + agregamos fallback por scroll/resize,
       y un "failsafe" para revelar lo que quede oculto.
    */
    .gp-reveal{
      opacity: 0;
      transform: translateY(10px);
    }
    .gp-reveal.is-in{
      opacity: 1;
      transform: translateY(0);
      transition: opacity .45s ease, transform .45s ease;
    }

    .btn:focus-visible,
    .search-input:focus-visible{
      outline: none;
      box-shadow: 0 0 0 6px rgba(77,163,255,.18);
      border-color: rgba(77,163,255,.65);
    }

    /* ===== MODAL IM√ÅGENES ===== */
.img-modal{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: none;
}

.img-modal.is-open{ display: block; }

.img-modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.70);
  backdrop-filter: blur(2px);
}

.img-modal-box{
  position: relative;
  max-width: min(1100px, 92vw);
  max-height: 86vh;
  margin: 6vh auto 0;
  background: rgba(10,20,34,.92);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 18px;
  box-shadow: 0 24px 90px rgba(0,0,0,.65);
  padding: 14px;
}

.img-modal-box img{
  display:block;
  width: 100%;
  height: auto;
  max-height: calc(86vh - 28px);
  object-fit: contain;
  border-radius: 14px;
}

.img-modal-close{
  position:absolute;
  top: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: var(--text);
  cursor: pointer;
  font-weight: 800;
}

.img-figure{ cursor: zoom-in; }

  </style>
</head>

<body>

    <script>
    if (sessionStorage.getItem("gp_session") !== "1") {
      location.href = "login.html";
    }
  </script>

<header>
  <div class="wrap">
    <div>
      <h1>gpVision‚Ñ¢ ‚Äì Manual T√©cnico</h1>
      <span>Documento estructurado ¬∑ Secci√≥n gpVision</span>
    </div>
    <a href="menu.html" class="btn">‚¨Ö Volver al men√∫</a>
  </div>
</header>

<main>

  <section class="search-wrap" id="buscador">
  <div class="search-head">
    <div>
      <h3>B√∫squeda r√°pida en el manual</h3>
      <div class="hint">Busca por palabra o frase y salta entre coincidencias</div>
    </div>
    <button class="btn" id="clearSearchBtn" type="button">Limpiar</button>
  </div>

  <div class="search-body">
    <div class="search-row">
      
    <div class="search-suggest">
  <input class="search-input" id="searchInput" type="text" autocomplete="off"
    placeholder="Ej: RTUnit, calibraci√≥n, carril, licencia...">
  <div class="suggest-list" id="suggestList"></div>
</div>

      <button class="btn primary" id="searchBtn" type="button">Buscar</button>
      <button class="btn" id="prevBtn" type="button">‚óÄ</button>
      <button class="btn" id="nextBtn" type="button">‚ñ∂</button>
    </div>
    <div class="search-meta" id="searchMeta">Sin b√∫squeda activa.</div>
  </div>
</section>


  <section class="section" id="pdf">
  <div class="section-title">
    <div class="bar"></div>
    <h2>Manual en PDF</h2>
  </div>

  <p class="section-sub">
    Puedes abrir el PDF en una pesta√±a nueva o verlo directamente aqu√≠.
  </p>

  <div class="figure">
    <div class="figure-h">
      <h3>Visor del manual</h3>
      <div class="hint">Si no se carga, usa el bot√≥n para abrirlo en otra pesta√±a</div>
    </div>

    <div style="padding:14px 16px;">
      <a href="Manuales/GPVisionGrader_manual_2_22 (1).pdf" class="btn" target="_blank" rel="noopener">
        üìÑ Abrir PDF en otra pesta√±a
      </a>
    </div>

    <div style="padding:0 16px 16px;">
      <iframe
        src="Manuales/GPVisionGrader_manual_2_22 (1).pdf"
        title="Manual gpVision PDF"
        style="width:100%; height:70vh; border:1px solid rgba(255,255,255,.12); border-radius:16px; background:rgba(255,255,255,.02);"
      ></iframe>
    </div>
  </div>
</section>

  <!-- 1. INTRODUCCI√ìN -->
  <section class="section" id="introduccion">
    <div class="section-title">
      <div class="bar"></div>
      <h2>1. Introducci√≥n al sistema gpVision‚Ñ¢</h2>
    </div>

    <!-- ‚úÖ REEMPLAZO ORDENADO (solo esta parte cambi√≥) -->
    <div class="section-sub">
      <p style="margin:0 0 10px;"><b>1. Configuraci√≥n</b></p>
      <p style="margin:0 0 10px;">
        GP Vision Grader requiere la instalaci√≥n de Microsoft SQL Server 2017 (versi√≥n 14.x).
        Se pueden usar las ediciones Standard y Express. Consulte la documentaci√≥n y la
        especificaci√≥n de cada versi√≥n de MS SQL Server en
        <span style="color:rgba(234,241,255,.85); text-decoration:underline;">https://www.microsoft.com/</span>.
      </p>
      <p style="margin:0 0 10px;">
        Si MS SQL Server est√° instalado, aseg√∫rese de que los par√°metros de conexi√≥n sean correctos.
        GP Vision Grader debe instalarse de forma predeterminada en el mismo equipo que MS SQL Server.
        El ID de instancia de MS SQL Server debe ser <b>SQLEXPRESS</b> y la autenticaci√≥n de Windows debe estar habilitada.
        Cualquier cambio en la configuraci√≥n anterior requiere ajustar el archivo de configuraci√≥n creado al instalar GP Vision Grader.
      </p>
      <p style="margin:0 0 10px;">
        Tambi√©n es importante tener MS SQL Server instalado en la misma cuenta de Windows que GP Vision Grader.
        De lo contrario, podr√≠an ser necesarios algunos cambios de permisos.
      </p>
      <p style="margin:0 0 10px;">
        Ejecute <b>GPVisionGraderSetup_XXX.exe</b> y siga las instrucciones para instalar GP Vision Grader.
      </p>
      <p style="margin:0 0 10px;">
        Si es necesario, ajuste el archivo de configuraci√≥n <b>GP Vision GraderSettings.xml</b> creado en el directorio
        <b>C:\ProgramData\GP Graders\GP Vision Grader</b>.
      </p>
      <p style="margin:0 0 10px;">
        Si la configuraci√≥n es correcta, GP Vision Grader crear√° una base de datos vac√≠a durante el primer inicio
        y la llenar√° con datos semilla.
      </p>
      <p style="margin:0 0 10px;">
        Aseg√∫rese de hacer una copia de seguridad de la base de datos SQL antes de realizar cualquier actualizaci√≥n de GP Vision Grader.
      </p>
      <p style="margin:0 0 16px;">
        Se recomienda instalar una herramienta de administraci√≥n de SQL adicional que pueda ser necesaria para realizar copias de seguridad
        u otras tareas de mantenimiento de la base de datos. SQL Server Management Studio 17.9 es la versi√≥n recomendada, pero cualquier
        versi√≥n posterior tambi√©n deber√≠a ser compatible (consulte la documentaci√≥n de SQL Server Management Studio para obtener informaci√≥n
        sobre compatibilidad).
      </p>

      <p style="margin:0 0 10px;"><b>2. Requisitos</b></p>
      <p style="margin:0 0 16px;">
        La configuraci√≥n m√≠nima de la PC con GUI de GP Vision Grader debe incluir: Intel Core i7-6700,
        disco duro SSD de 256 GB, Windows 10 Pro o Home Edition, 8 GB de RAM, dos monitores con una resoluci√≥n m√≠nima
        admitida de 1600 √ó 900 px, dos puertos Ethernet.
      </p>

      <p style="margin:0 0 10px;"><b>3. Informaci√≥n general</b></p>
      <p style="margin:0 0 10px;">
        GP Vision Grader funciona como cliente en una arquitectura cliente-servidor. Permite al operador controlar los dispositivos en
        todo el sistema. Tambi√©n registra datos de los dispositivos (como estad√≠sticas) y los guarda en la base de datos para la generaci√≥n
        de informes.
      </p>
      <p style="margin:0 0 10px;">
        Este manual se basa en el supuesto de que el hardware necesario est√° correctamente montado, conectado y disponible, en particular:
      </p>
      <ul style="margin:0; padding-left:18px;">
        <li>C√°maras / carcasas para c√°maras</li>
        <li>Unidades de Visi√≥n</li>
        <li>Unidades RT</li>
        <li>M√≥dulos de abandono (Grader IO)</li>
        <li>Iluminaci√≥n LED</li>
      </ul>
    </div>

<div class="figure">
  <div class="figure-h">
    <h3>4. Interfaz de usuario</h3>
    <div class="hint">Descripci√≥n general de la interfaz y funciones comunes</div>
  </div>

  <!-- Imagen principal -->
  <img src="Imagenes/interfaz-general.jpeg" alt="Interfaz general gpVision" class="img-figure md">

  <div class="figure-b">
    <p style="margin:0 0 10px;">
      <b>Descripci√≥n general de la interfaz de usuario</b>
    </p>

    <ol style="margin:0 0 14px; padding-left:18px;">
      <li><b>Men√∫ principal:</b> pase el puntero del mouse sobre el √°rea del men√∫ o haga clic en el √≠cono del men√∫ para expandir la barra de men√∫.</li>
      <li><b>√Årea de trabajo:</b> la mayor√≠a de las ventanas de la aplicaci√≥n se abrir√°n como una nueva pesta√±a en el √°rea de trabajo.</li>
      <li><b>Controles del modo del sistema:</b> muestra el perfil actual y el programa de clasificaci√≥n; permite iniciar o detener la clasificaci√≥n.</li>
      <li>
        <b>Indicadores de velocidad de l√≠nea, llenado y rendimiento:</b>
        se actualizan peri√≥dicamente seg√∫n los datos de las unidades de visi√≥n. El rendimiento puede ser estimado o basado en peso real seg√∫n la configuraci√≥n.
      </li>
      <li>
        <b>Estado del sistema:</b> permite visualizar el estado de todos los componentes. Si existe advertencia o error, se habilita el bot√≥n de herramientas para iniciar reparaci√≥n autom√°tica.
        <br><br>
        <b>Registrar informaci√≥n de depuraci√≥n:</b> permite descargar informaci√≥n adicional desde la Unidad de Visi√≥n.
      </li>
    </ol>

    <!-- Estado / depuraci√≥n -->
    <img src="Imagenes/estado-del-sistema.jpeg" alt="Estado del sistema y depuraci√≥n" class="img-figure sm">

    <p><b>Acoplar / desacoplar</b></p>
    <p>Cada pesta√±a del √°rea de trabajo puede desacoplarse y abrirse en una ventana independiente.</p>

    <img src="Imagenes/acoplar-desacoplar.jpeg" alt="Acoplar y desacoplar pesta√±as" class="img-figure sm">

    <p><b>Funciones comunes</b></p>
    <ul style="padding-left:18px;">
      <li><b>Clic derecho / Men√∫ contextual:</b> algunas funciones solo est√°n disponibles mediante el men√∫ contextual.</li>
    </ul>

    <img src="Imagenes/menu-contextual.jpeg" alt="Men√∫ contextual" class="img-figure xs">

    <ul style="padding-left:18px;">
      <li><b>Validaci√≥n:</b> errores se indican con borde rojo y mensajes emergentes.</li>
    </ul>

    <img src="Imagenes/validacion-error.jpeg" alt="Validaci√≥n y error" class="img-figure sm">

    <p><b>Doble clic:</b> inicia la acci√≥n predeterminada (normalmente editar).</p>

    <p><b>Controles comunes</b></p>
    <p><b>Selector de frutas</b></p>
    <p>Permite cargar im√°genes de frutas desde distintas fuentes.</p>

    <img src="Imagenes/selector-frutas.jpeg" alt="Selector de frutas" class="img-figure sm">

    <ul style="padding-left:18px;">
      <li><b>Obtener imagen:</b> carga im√°genes del Lane seleccionado seg√∫n el estado del sistema.</li>
      <li><b>Pegar:</b> obtiene la √∫ltima imagen del portapapeles y permite seleccionar entre m√∫ltiples elementos.</li>
    </ul>

    <img src="Imagenes/seleccion-frutas.jpeg" alt="Ventana de selecci√≥n de frutas" class="img-figure s">

    <ul style="padding-left:18px;">
      <li><b>Importar:</b> importa im√°genes externas.</li>
      <li><b>Copiar:</b> guarda im√°genes en el portapapeles (hasta 50).</li>
      <li><b>Exportar:</b> exporta im√°genes a archivo.</li>
      <li>
        <b>Color, Nir, Shrivel, Suave, Anotado:</b>
        habilita o deshabilita vistas seg√∫n hardware y algoritmo.
      </li>
    </ul>
  </div>
</div>


<div class="figure">
  <div class="figure-h">
    <h3>5. Permisos de la cuenta</h3>
    <div class="hint">Permisos de cuenta y modos de operaci√≥n</div>
  </div>

  <div class="figure-b">
    <p><b>Permisos de la cuenta</b></p>

    <p>
      El usuario de GP Vision Grader puede operar bajo distintos modos de cuenta,
      los cuales definen el nivel de acceso a las funciones del sistema:
    </p>

    <ul style="padding-left:18px;">
      <li style="margin:6px 0;">
        <b>Administrador:</b> en este modo est√°n disponibles todas las caracter√≠sticas
        y funciones del sistema, incluyendo la configuraci√≥n completa, perfiles y
        ajustes avanzados de la aplicaci√≥n.
      </li>
      <li style="margin:6px 0;">
        <b>Operador:</b> este modo no permite al usuario modificar la configuraci√≥n
        del sistema ni los perfiles. El acceso se limita a la operaci√≥n normal del
        sistema y a la mayor√≠a de las funciones operativas de la aplicaci√≥n.
      </li>
    </ul>

    <p>
      El modo de operaci√≥n actual se muestra en la parte inferior de la secci√≥n del
      men√∫ de la aplicaci√≥n:
    </p>

    <!-- Imagen: modo actual -->
    <img src="Imagenes/modo-operacion-actual.jpeg" alt="Modo de operaci√≥n actual" class="img-figure xs">

    <p>
      Para cambiar entre los modos <b>Operador</b> y <b>Administrador</b>, haga clic
      sobre el elemento del men√∫ que representa el modo de operaci√≥n actual.
      La contrase√±a predeterminada para acceder al modo Administrador es:
      <b>Admin</b>.
    </p>

    <!-- Imagen: cambio de modo -->
    <img src="Imagenes/cambio-modo-operacion.jpeg" alt="Cambio de modo Operador a Administrador" class="img-figure sm">

    <p>
      El prop√≥sito de disponer de dos tipos de cuentas es evitar que el Operador
      realice cambios accidentales en la configuraci√≥n del sistema, garantizando
      la estabilidad operativa y la seguridad de los par√°metros cr√≠ticos.
    </p>
  </div>
</div>
  </section>

<div class="figure">
  <div class="figure-h">
    <h3>6. Inicio del programa</h3>
    <div class="hint">Secuencia de inicio, acciones y manejo de errores</div>
  </div>

  <!-- Imagen (la pegas despu√©s en /imagenes) -->
  <img src="Imagenes/inicio-programa.jpeg" alt="Secuencia de inicio de GP Vision Grader" class="img-figure ss">

  <div class="figure-b">
    <p style="margin:0 0 10px;">
      Durante el inicio de <b>GP Vision Grader</b> se realizan m√∫ltiples acciones. Algunas de ellas son:
      <b>actualizaciones de base de datos</b>, <b>conexi√≥n a unidades de visi√≥n (carriles)</b> y <b>carga de archivos de configuraci√≥n</b>.
    </p>

    <p style="margin:0 0 10px;">
      Si alguna acci√≥n genera un <b>error</b> o una <b>advertencia</b>, la secuencia de inicio se detendr√°.
      Al pasar el cursor sobre el nombre de la acci√≥n, se mostrar√°n los detalles de la advertencia o el error.
    </p>

    <p style="margin:0;">
      Algunas advertencias o errores pueden bloquear la aplicaci√≥n e impedir que el operador la ejecute; sin embargo,
      en la mayor√≠a de los casos el bot√≥n de inicio estar√° activo y el operador podr√° iniciarla.
    </p>
  </div>
</div>

<div class="figure">
  <div class="figure-h">
    <h3>7. Licencias</h3>
    <div class="hint">Gesti√≥n, activaci√≥n y validaci√≥n de licencias</div>
  </div>

  <div class="figure-b">
    <p style="margin:0 0 10px;">
      El programa <b>GP Vision Grader</b> requiere un archivo de licencia v√°lido.
      La licencia limita el n√∫mero de carriles que se pueden gestionar o el tiempo
      de uso del software.
    </p>

    <p style="margin:0 0 10px;">
      Para obtener una nueva licencia, se debe crear un <b>archivo de solicitud de licencia</b>.
      Este archivo puede generarse desde la ventana del <b>Administrador de Licencias</b>,
      la cual se abre autom√°ticamente al iniciar el programa si a√∫n no se ha proporcionado
      una licencia v√°lida.
    </p>

    <p style="margin:0 0 10px;">
      En el Administrador de Licencias, introduzca el nombre de su empresa, su direcci√≥n
      de correo electr√≥nico y su c√≥digo de licencia. Luego haga clic en
      <b>‚ÄúGenerar solicitud de licencia‚Äù</b> para obtener el archivo de solicitud.
      Este archivo debe enviarse al representante de <b>GP Graders</b>, quien proporcionar√°
      el archivo de licencia correspondiente.
    </p>

    <p style="margin:0 0 10px;">
      Una vez recibido el archivo de licencia, este puede cargarse mediante la opci√≥n
      <b>‚ÄúCargar archivo de licencia‚Äù</b> dentro del Administrador de Licencias.
    </p>

    <p style="margin:0 0 10px;">
      Otra forma de generar una licencia es mediante la <b>verificaci√≥n en l√≠nea</b>.
      Para ello, complete el formulario correspondiente y haga clic en
      <b>‚ÄúVerificar licencia en l√≠nea‚Äù</b>. Este m√©todo requiere una conexi√≥n activa
      a internet y que la hora local del computador est√© correctamente configurada.
    </p>

    <p style="margin:0 0 10px;">
      El archivo de licencia se guarda en el directorio:
      <br>
      <b>C:\ProgramData\GP Graders\GP Vision Grader\</b>
    </p>

    <p style="margin:0 0 10px;">
      La licencia est√° vinculada al hardware del equipo. Por lo tanto, para instalar
      GP Vision Grader en un computador nuevo se requiere una nueva licencia y la
      generaci√≥n de una nueva solicitud de licencia.
    </p>

    <p style="margin:0;">
      El Administrador de Licencias tambi√©n puede abrirse manualmente haciendo clic en
      el bot√≥n <b>Acerca de</b> en la barra de t√≠tulo de la ventana principal de la
      aplicaci√≥n o desde el bot√≥n <b>Acerca de</b> en el men√∫ principal.
    </p>

    <!-- Imagen: acceso a "Acerca de" -->
    <img src="Imagenes/licencia.jpeg" alt="Acceso al administrador de licencias desde Acerca de" class="img-figure ss">
  </div>
</div>

  </section>



<div class="figure">
  <div class="figure-h">
    <h3>8. Configuraci√≥n del sistema</h3>
    <div class="hint">Orden de configuraci√≥n y requisitos previos</div>
  </div>

  <div class="figure-b">
    <p style="margin:0 0 10px;">
      La configuraci√≥n del sistema consta de secciones que deben configurarse en el orden indicado.
      La mayor√≠a est√°n relacionadas con la configuraci√≥n del hardware, por lo que aseg√∫rese de que
      todos los componentes est√©n correctamente montados y conectados antes de configurar el sistema.
    </p>

    <p style="margin:0 0 10px;">
      Aseg√∫rese de que el sistema est√© en <b>modo de configuraci√≥n</b>; de lo contrario, la configuraci√≥n
      del sistema estar√° en <b>modo de solo lectura</b>.
    </p>

    <p style="margin:0;">
      <b>Nota importante:</b> Arranque la m√°quina para sincronizar la posici√≥n de los codificadores antes de
      configurar la c√°mara (requiere al menos una rotaci√≥n completa del eje de la cadena). Aseg√∫rese de que
      la cadena no se mueva al ajustar el enfoque de la c√°mara frontal o trasera hasta que la cortadora est√© configurada.
    </p>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:14px 0;">

    <p style="margin:0 0 10px;"><b>8.1. Unidades RT</b></p>

    <p style="margin:0 0 10px;">
      La Unidad RT es un componente de hardware que gestiona la comunicaci√≥n y la sincronizaci√≥n entre
      las c√°maras, los m√≥dulos de E/S de nivelaci√≥n y las unidades de visi√≥n. Normalmente hay una Unidad RT
      por cada dos carriles y una por cada unidad de visi√≥n.
    </p>

    <p style="margin:0 0 10px;">
      En esta secci√≥n, el operador puede gestionar la lista de Unidades RT y m√≥dulos de desconexi√≥n.
      Utilice la opci√≥n <b>‚ÄúA√±adir nuevo‚Äù</b> en la esquina inferior derecha para a√±adir una nueva unidad RT.
      Debe proporcionar un nombre y un n√∫mero (el nombre es descriptivo; el n√∫mero ordena la lista).
    </p>

    <p style="margin:0 0 10px;">
      Utilice los botones correspondientes para editar y eliminar unidades RT existentes.
    </p>

    <p style="margin:0 0 10px;"><b>M√≥dulos de deserci√≥n (m√≥dulos de E/S de Grader)</b></p>

    <p style="margin:0 0 10px;">
      Expanda una Unidad RT existente y haga clic en el <b>+</b> para agregar un nuevo m√≥dulo de abandono.
      Se debe proporcionar la siguiente informaci√≥n:
    </p>

    <ul style="margin:0 0 10px; padding-left:18px;">
      <li style="margin:6px 0;">
        <b>ID de bus:</b> seleccione el bus de la unidad RT a la que est√° conectado el m√≥dulo de deserci√≥n.
        El ID 0 se refiere a Serial1 y el ID 1 se refiere a Serial2.
      </li>
      <li style="margin:6px 0;">
        <b>Nodo:</b> seleccione el n√∫mero consecutivo del m√≥dulo en la cadena conectada a un √∫nico puerto
        bus/serie (la numeraci√≥n comienza desde 0).
      </li>
      <li style="margin:6px 0;">
        <b>Direcci√≥n de hardware:</b> la direcci√≥n de hardware (MAC) est√° impresa en los m√≥dulos (recinto).
      </li>
    </ul>

    <!-- (imagen) -->
    <img src="Imagenes/Captura de pantalla_24-12-2025_04720_.jpeg" alt="Direcci√≥n MAC, ID de bus y nodo del m√≥dulo de deserci√≥n" class="img-figure md">

    <p style="margin:0 0 10px;">
      Los n√∫meros de salida mostrados junto a cada m√≥dulo se refieren a los n√∫meros de salida reales
      solo si se selecciona la configuraci√≥n <b>‚ÄúTodas las salidas‚Äù</b>. En otros casos, estos n√∫meros deben
      considerarse como informaci√≥n sobre cu√°ntas salidas reales se pueden conectar a la cadena dada.
      Consulte la secci√≥n <b>‚ÄúDesplazamientos de salida‚Äù</b> para m√°s informaci√≥n.
    </p>

    <!-- (imagen) -->
    <img src="Imagenes/Captura de pantalla_24-12-2025_04735_.jpeg" alt="Configuraci√≥n de salidas y numeraci√≥n" class="img-figure md">

    <p style="margin:0 0 10px;"><b>Diagn√≥stico del m√≥dulo de deserci√≥n</b></p>

    <p style="margin:0 0 10px;">
      Si el modo de configuraci√≥n est√° activado, el sistema mostrar√° el estado de la conexi√≥n entre la Unidad
      de Visi√≥n y cada m√≥dulo de deserci√≥n:
    </p>

    <ul style="margin:0; padding-left:18px;">
      <li style="margin:6px 0;"><b>Estado no disponible:</b> no hay comunicaci√≥n entre la estaci√≥n del operador y la unidad de visi√≥n o entre la unidad de visi√≥n y la RTUnit.</li>
      <li style="margin:6px 0;"><b>Sin conexi√≥n:</b> el m√≥dulo no est√° conectado correctamente; verifique MAC, ID de bus, dise√±o y cableado.</li>
      <li style="margin:6px 0;"><b>Conectado:</b> existe conexi√≥n; deber√≠a pasar a Comunicaci√≥n correcta despu√©s de 60 s si el enlace es estable.</li>
      <li style="margin:6px 0;"><b>Comunicaci√≥n correcta:</b> conexi√≥n estable (&gt; 60 s sin interrupciones).</li>
    </ul>

    <!-- (imagen) -->
    <img src="Imagenes/Captura de pantalla_24-12-2025_04742_.jpeg" alt="Estados de diagn√≥stico del m√≥dulo de deserci√≥n" class="img-figure md">

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.2. Carriles</b></p>

<p style="margin:0 0 10px;">
  Un carril representa un solo carril de la m√°quina. Cada carril se gestiona mediante
  un programa inform√°tico espec√≠fico instalado en una unidad Vision. Normalmente,
  una sola unidad Vision gestiona dos carriles; ambos est√°n disponibles bajo la misma
  direcci√≥n de red, pero cada carril utiliza un puerto de comunicaci√≥n diferente.
</p>

<p style="margin:0 0 10px;">
  Los puertos predeterminados para dos carriles que se ejecutan en una sola unidad
  Vision son <b>20000</b> y <b>20001</b>.
</p>

<p style="margin:0 0 10px;">
  Utilice <b>‚ÄúAgregar nuevo‚Äù</b> en la esquina inferior derecha de la pantalla para
  agregar un nuevo carril. Tambi√©n puede editar o eliminar carriles existentes.
</p>

<p style="margin:0 0 10px;">
  Para agregar un nuevo carril se debe proporcionar la siguiente informaci√≥n:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;"><b>Nombre:</b> identificador del carril.</li>
  <li style="margin:6px 0;"><b>Direcci√≥n IP:</b> direcci√≥n de red de la unidad Vision (IPv4 o IPv6).</li>
  <li style="margin:6px 0;"><b>Puerto:</b> puerto de comunicaci√≥n de la unidad Vision.</li>
  <li style="margin:6px 0;"><b>N√∫mero:</b> se utiliza para ordenar los carriles en la lista.</li>
  <li style="margin:6px 0;"><b>Unidad RT:</b> unidad RT conectada a la unidad Vision.</li>
  <li style="margin:6px 0;">
    <b>Distribuci√≥n de salida maestra:</b> solo un carril puede seleccionarse como
    distribuci√≥n de salida maestra. Es necesario para usar el modo global de
    distribuci√≥n de salida.
  </li>
</ul>

<p style="margin:0 0 10px;">
  Utilice la <b>conexi√≥n de prueba</b> para verificar si el carril est√° funcionando y
  si la red est√° configurada correctamente.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_05151_.jpeg" alt="Conexi√≥n de prueba de carriles" class="img-figure sm">

<p style="margin:0 0 10px;">
  Utilice <b>Habilitar / Deshabilitar</b> para activar o desactivar un carril.
  La edici√≥n solo est√° disponible si el carril est√° deshabilitado.
</p>

<p style="margin:0 0 10px;">
  Utilice <b>Buscar c√°maras</b> para encontrar la c√°mara despu√©s de conectarla por
  primera vez a la unidad Vision (puede ser necesario recargarla).
</p>

<p style="margin:0 0 10px;">
  Utilice <b>Informaci√≥n del software</b> para mostrar las versiones del software de Lane.
  El carril debe estar habilitado y conectado.
</p>

<p style="margin:0 0 10px;">
  Utilice <b>Recargar</b> para recargar el carril si se ha conectado una nueva c√°mara.
  Use <b>Reconectar</b> para reconectarse manualmente si es necesario.
</p>

<p style="margin:0 0 10px;">
  Los √≠conos y los mensajes de advertencia o error indican el estado actual de cada carril.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_0522_.jpeg" alt="Estado de carriles" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Herramienta de actualizaci√≥n de la Unidad de Visi√≥n</b></p>

<p style="margin:0 0 10px;">
  Haga clic en <b>Actualizar software</b> en la esquina inferior izquierda para abrir
  la herramienta de actualizaci√≥n. Puede usar el archivo integrado del software del
  operador o cargar un archivo externo.
</p>

<p style="margin:0 0 10px;">
  La columna de estado se volver√° verde si la actualizaci√≥n fue correcta o roja si
  ocurri√≥ un error. Reinicie el software del operador para recargar la configuraci√≥n
  global.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_0529_.jpeg" alt="Actualizaci√≥n de la Unidad de Visi√≥n" class="img-figure sm">

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.3. Configuraci√≥n global</b></p>

<p style="margin:0 0 10px;">
  Hay <b>tres tipos</b> de configuraciones globales:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;"><b>Estaci√≥n del operador</b></li>
  <li style="margin:6px 0;"><b>Calibraci√≥n de la c√°mara</b></li>
  <li style="margin:6px 0;"><b>Configuraci√≥n de carril</b></li>
</ul>

<p style="margin:0 0 10px;"><b>Estaci√≥n del operador</b></p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;">
    <b>Gamma:</b> se aplica a todas las im√°genes mostradas en el software.
    Los valores se usan en todas las ventanas, excepto en la configuraci√≥n del sistema
    (existe una gamma independiente para esa secci√≥n).
  </li>
  <li style="margin:6px 0;">
    <b>Tiene c√°mara frontal/trasera/izquierda/derecha:</b> activa o desactiva opciones de la interfaz
    necesarias para configurar c√°maras seg√∫n su presencia f√≠sica.
    Para habilitar o deshabilitar c√°maras frontales o traseras es necesario conectarlas o desconectarlas
    f√≠sicamente de la red y volver a cargar c√°maras en la Vision Unit ejecutando <b>Buscar c√°maras</b>
    (ver secci√≥n Carriles).
  </li>
  <li style="margin:6px 0;">
    <b>Calificador de peso:</b> habilita/deshabilita la clasificaci√≥n por peso.
  </li>
  <li style="margin:6px 0;">
    <b>Tipo de fotograf√≠a de referencia (Arriba | Delante | Detr√°s | Izquierda | Derecha):</b>
    se utiliza para detectar fruta. Los tipos se definen por el tipo de c√°mara y los filtros aplicados
    (por ejemplo, polarizaci√≥n, paso de banda). No confundir el tipo de foto con el tipo de c√°mara.
    Actualmente hay cuatro tipos de foto: <b>Color</b>, <b>NIR</b>, <b>Suave</b> y <b>Shrivel</b>.
    El tipo de foto de referencia predeterminado es <b>NIR</b>.
  </li>
  <li style="margin:6px 0;">
    <b>Ajustes de tama√±o:</b> activa o desactiva el algoritmo que corrige el tama√±o medido seg√∫n la distancia
    c√°mara-fruta y la posici√≥n respecto al centro de la vista. La distancia debe medirse desde el punto de
    referencia de la c√°mara hasta la parte superior del rodillo de la copa. Tambi√©n debe indicarse la distancia
    entre copas (entre centros de copas adyacentes).
  </li>
</ul>

<p style="margin:0 0 10px;"><b>Calibraci√≥n de la c√°mara</b></p>

<p style="margin:0 0 10px;">
  Para calibrar una c√°mara, se deben proporcionar los valores correctos de <b>ganancia</b> y <b>obturaci√≥n</b>.
  Consulte la secci√≥n ‚ÄúCalibraci√≥n de la c√°mara‚Äù para obtener m√°s informaci√≥n sobre c√≥mo configurar estos par√°metros.
</p>

<p style="margin:0 0 10px;"><b>Configuraci√≥n de carril</b></p>

<p style="margin:0 0 10px;">
  Esta secci√≥n contiene los ajustes de configuraci√≥n de las unidades Vision. Cambiar estos ajustes no tendr√° ning√∫n efecto
  si la unidad de visi√≥n no est√° conectada a GP Vision Grader. La configuraci√≥n se almacena en la base de datos local de la estaci√≥n
  del operador y se env√≠a a la unidad de visi√≥n y sus carriles correspondientes una vez establecida la conexi√≥n.
</p>

<p style="margin:0 0 10px;">
  Las siguientes configuraciones dependientes del hardware deben configurarse durante la primera configuraci√≥n de la m√°quina:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;"><b>lane_cupsPerEncoderRevolution</b></li>
  <li style="margin:6px 0;"><b>lane_pulsesPerEncoderRevolution</b></li>
  <li style="margin:6px 0;"><b>rtu_exitActivationLatency</b></li>
  <li style="margin:6px 0;">
    <b>rtu_effectiveLedPowerOnTime:</b> aseg√∫rese de establecer este valor al menos
    <b>30 ¬µs</b> m√°s que el tiempo de obturaci√≥n m√°s largo.
  </li>
</ul>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_05433_.jpeg" alt="Configuraci√≥n global: par√°metros dependientes de hardware" class="img-figure md">

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.4. C√°maras de carril</b></p>

<p style="margin:0 0 10px;">
  En esta ventana, el operador puede gestionar las c√°maras disponibles. Si una c√°mara est√° conectada,
  se detectar√° autom√°ticamente y se mostrar√° en la lista. La detecci√≥n autom√°tica no elimina c√°maras
  no utilizadas; si una c√°mara se conecta a una unidad Vision incorrecta, debe eliminarse manualmente.
</p>

<p style="margin:0 0 10px;">
  El operador debe asegurarse de que cada c√°mara tenga asignado el tipo de fotograf√≠a correcto, que
  las im√°genes est√©n invertidas correctamente y que el enfoque y la polarizaci√≥n est√©n configurados
  adecuadamente. Haga clic en el √≠cono de la c√°mara para habilitar la vista previa.
</p>


<p style="margin:0 0 10px;"><b>Tipo de foto</b></p>

<p style="margin:0 0 10px;">
  Consulte m√°s informaci√≥n sobre los tipos de foto en la secci√≥n <b>Configuraci√≥n global</b>.
</p>

<p style="margin:0 0 10px;"><b>Fuente de la foto</b></p>

<p style="margin:0 0 10px;">
  Seleccione una de las siguientes fuentes seg√∫n la posici√≥n f√≠sica de la c√°mara:
  <b>frontal</b>, <b>superior</b>, <b>trasera</b>, <b>izquierda</b> o <b>derecha</b>.
  La c√°mara frontal se refiere a la que toma la primera foto de la fruta y suele estar
  montada en el lado de salida del domo de luz.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_05623_.jpeg" alt="Fuente de la foto de la c√°mara" class="img-figure ss">

<p style="margin:0 0 10px;"><b>Transformaci√≥n / rotaci√≥n de im√°genes</b></p>

<p style="margin:0 0 10px;">
  Utilice las funciones <b>Girar horizontalmente</b> y <b>Girar verticalmente</b> para
  transformar la imagen. Para verificar la orientaci√≥n correcta, coloque una franja con
  texto impreso debajo de la c√°mara y aseg√∫rese de que sea legible y coincida con la direcci√≥n
  del movimiento de las copas.
</p>

<p style="margin:0 0 10px;">
  Haga clic en <b>Guardar</b> despu√©s de voltear la imagen para aplicar los cambios.
<p style="margin:0 0 10px;"> <b>INCORRECTO: </b></p>
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_1450_.jpeg" alt="Rotaci√≥n incorrecta de imagen" class="img-figure sm">

<p style="margin:0 0 10px;"> <b>CORRECTO:</b></p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_1652_.jpeg" alt="Rotaci√≥n correcta de imagen" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Distancia de la c√°mara</b></p>

<p style="margin:0 0 10px;">
  Aseg√∫rese de que la c√°mara est√© instalada a la distancia correcta de las copas. Una distancia
  menor reduce la cantidad de copas visibles pero aumenta el tama√±o de la imagen de una sola fruta.
</p>

<p style="margin:0 0 10px;">
  <b>Tama√±o de copa: 1 pulgada</b><br>
  Distancia recomendada: <b>73 cm</b> para versiones &lt; 1.7.0 (aprox. 10‚Äì11 copas visibles, 220√ó220 px).
  Desde la versi√≥n 1.7.0, la distancia recomendada es <b>52 cm</b> (aprox. 7 copas, 300√ó300 px).
</p>

<p style="margin:0 0 10px;">
  <b>Tama√±o de copa: 1,5 pulgadas</b><br>
  Distancia recomendada: <b>66 cm</b> (aprox. 7 copas, 300√ó300 px).
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11112_.jpeg" alt="Distancia correcta de la c√°mara a las copas" class="img-figure xs">

<p style="margin:0 0 10px;"><b>Enfoque y apertura de la c√°mara</b></p>

<p style="margin:0 0 10px;">
  Establezca la apertura de la c√°mara en <b>f/2</b>. La c√°mara debe enfocar un objeto sobre las copas;
  utilice esferas de calibraci√≥n o fruta real para ajustar el enfoque. Evite im√°genes sobreexpuestas;
  ajuste ganancia, obturaci√≥n y gamma si es necesario.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11128_.jpeg" alt="Enfoque y apertura de la c√°mara" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Polarizaci√≥n</b></p>

<p style="margin:0 0 10px;">
  Gire el filtro polarizador mientras observa la vista previa. Cuanto m√°s oscura sea la imagen,
  mayor ser√° la polarizaci√≥n. Ajuste el filtro para lograr la imagen m√°s polarizada posible.
</p>
 
<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.5. Calibraci√≥n de la c√°mara</b></p>

<p style="margin:0 0 10px;">
  El prop√≥sito de la calibraci√≥n de la c√°mara es configurar el <b>balance de blancos</b> y compensar
  las diferencias en la cantidad de luz que incide sobre las copas ubicadas en el centro y en los bordes
  de la vista de la c√°mara.
</p>

<p style="margin:0 0 10px;">
  Siga los pasos a continuaci√≥n para realizar la calibraci√≥n:
</p>

<p style="margin:0 0 8px;"><b>1.</b> Habilite la vista previa de la c√°mara y coloque la franja de calibraci√≥n debajo de la c√°mara.</p>

<p style="margin:0 0 8px;">
  <b>2.</b> Establezca los valores iniciales de ganancia y obturaci√≥n en los valores predeterminados
  haciendo clic en <b>C√°mara predeterminada: ganancia / obturador</b>.
</p>

<p style="margin:0 0 8px;">
  <b>3.</b> Configure el √°rea de calibraci√≥n ajustando <b>Y1</b> y <b>Y2</b> en el lado derecho de la vista previa
  y <b>X1</b> y <b>X2</b> en la parte inferior. Ajuste ganancia u obturador para obtener la imagen m√°s brillante
  posible sin sobreexponerla.
</p>

<p style="margin:0 0 8px;">
  Si la imagen es demasiado tenue, aumente la ganancia; si es demasiado brillante, disminuya el obturador.
  La ganancia debe estar siempre al m√≠nimo si el obturador es inferior a su valor inicial, y viceversa.
  El obturador nunca debe superar su valor inicial.
</p>

<p style="margin:0 0 10px;">
  A continuaci√≥n se muestran ejemplos de im√°genes sobreexpuestas y correctas:
</p>

<p style="margin:0 0 10px;"><b>Sobreexpuesta:</b></p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11650_.jpeg" alt="Imagen sobreexpuesta" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Correcta:</b></p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11736_.jpeg" alt="Imagen correcta" class="img-figure sm">

<p style="margin:0 0 10px;">
  Utilice <b>p√≠xeles sobreexpuestos</b> y <b>brillo promedio</b> como indicadores. El brillo m√°ximo es 255
  y el brillo promedio debe ser aproximadamente <b>190</b>. No debe haber p√≠xeles sobreexpuestos.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_1180_.jpeg" alt="Indicadores de brillo y sobreexposici√≥n" class="img-figure sm">

<p style="margin:0 0 10px;">
  <b>4.</b> Copie los valores de ganancia y obturaci√≥n en el tipo de foto correspondiente en la secci√≥n
  <b>Calibraci√≥n de la c√°mara</b> de la configuraci√≥n global y guarde la configuraci√≥n.
</p>

<p style="margin:0 0 10px;">
  Valores predeterminados de ganancia y obturaci√≥n:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;"><b>Color:</b> ganancia 1, obturador 80</li>
  <li style="margin:6px 0;"><b>NIR:</b> ganancia 95, obturador 300</li>
  <li style="margin:6px 0;"><b>Suave:</b> ganancia 100, obturador 300</li>
  <li style="margin:6px 0;"><b>Shrivel:</b> ganancia 0, obturador 50</li>
</ul>

<p style="margin:0 0 10px;">
  No deber√≠a haber una diferencia significativa entre estos valores y los obtenidos tras la calibraci√≥n.
</p>

<p style="margin:0 0 10px;">
  <b>5.</b> Ajuste nuevamente el √°rea de calibraci√≥n (Y1, Y2, X1, X2). El √°rea no debe exceder la franja
  de calibraci√≥n. Para c√°maras superiores, X1 y X2 deben cubrir todo el ancho.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11920_.jpeg" alt="√Årea de calibraci√≥n c√°mara superior" class="img-figure md">

<p style="margin:0 0 10px;">
  Para c√°maras frontales y traseras, ajuste X1 y X2 para mantener la regi√≥n de inter√©s (ROI)
  dentro del √°rea de la franja y cubriendo la zona donde se ubica la fruta.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11926_.jpeg" alt="ROI en c√°maras frontal y trasera" class="img-figure md">

<p style="margin:0 0 10px;">
  <b>6.</b> Haga clic en <b>Ganancia/obturador de c√°mara predeterminado</b>, luego en
  <b>Restablecer calibraci√≥n</b>, despu√©s en <b>Balance de blancos</b> (solo para c√°maras a color)
  y finalmente en <b>Calibrar la c√°mara</b> para iniciar la calibraci√≥n autom√°tica.
</p>

<p style="margin:0 0 10px;">
  Si la calibraci√≥n es correcta, la imagen tendr√° un color s√≥lido en escala de grises.
  En caso contrario, el sistema mostrar√° errores como imagen demasiado oscura o demasiado brillante.
  Repita los pasos 3 a 6 hasta completar correctamente la calibraci√≥n.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_11932_.jpeg" alt="Calibraci√≥n autom√°tica de c√°mara" class="img-figure sm">

<p style="margin:0 0 10px;">
  <b>7.</b> Repita los pasos 1 a 6 para cada tipo de fotograf√≠a y posici√≥n de c√°mara en el mismo carril.
</p>

<p style="margin:0 0 10px;">
  <b>8.</b> Repita los pasos 5 y 6 para las dem√°s c√°maras y carriles. No edite la secci√≥n de calibraci√≥n
  de la c√°mara en la configuraci√≥n global durante este proceso para asegurar valores consistentes.
</p>

<p style="margin:0;">
  Si alguna calibraci√≥n resulta demasiado brillante u oscura, repita todo el proceso desde el paso 1.
</p>



<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.6. Calibraci√≥n de tama√±o</b></p>

<p style="margin:0 0 10px;">
  Es necesario calibrar el tama√±o para convertir correctamente las medidas de la fruta en p√≠xeles
  a la unidad real. La unidad base del software es el <b>mil√≠metro (mm)</b>.
  La calibraci√≥n debe realizarse en <b>cada carril</b> (no es necesario para todas las c√°maras).
  Por defecto se debe usar la <b>c√°mara de referencia</b>, pero se puede cambiar si es necesario.
</p>

<p style="margin:0 0 10px;">
  Coloque las <b>bolas de calibraci√≥n</b> en las copas:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;">
    Para c√°maras <b>superior, izquierda y derecha</b>: use al menos <b>tres</b> bolas si el ajuste de tama√±o
    est√° desactivado, o solo <b>una</b> bola en la copa central si el ajuste de tama√±o est√° activado.
  </li>
  <li style="margin:6px 0;">
    Para c√°maras <b>frontal y trasera</b>: use <b>una</b> bola.
  </li>
</ul>

<p style="margin:0 0 10px;">
  Habilite la vista previa de la c√°mara y configure el √°rea de calibraci√≥n (ROI) ajustando <b>Y1, Y2, X1 y X2</b>.
  Aseg√∫rese de que todas las bolas de calibraci√≥n queden dentro del √°rea. Reduzca el valor de <b>gamma</b>
  si las copas no son visibles.
</p>

<p style="margin:0 0 10px;">
  Aseg√∫rese de que el tama√±o del objeto de referencia est√© configurado de acuerdo con el tama√±o de las bolas utilizadas.
  Ajuste el <b>di√°metro m√≠nimo de fruta</b> y el <b>umbral</b> hasta que solo se marquen las bolas de calibraci√≥n.
</p>

<p style="margin:0 0 10px;">
  Evite una imagen demasiado tenue o demasiado brillante, ya que puede afectar el tama√±o aparente de las bolas:
  una imagen demasiado brillante puede hacer que se vean m√°s grandes por reflejos; una tenue puede producir el efecto contrario.
</p>

<p style="margin:0 0 10px;">
  Utilice el panel de configuraci√≥n de la izquierda para ajustar: <b>ganancia</b>, <b>obturador</b>, <b>gamma</b>,
  <b>grosor de l√≠nea</b> y <b>color</b>.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_12341_.jpeg" alt="Panel de ajustes para calibraci√≥n de tama√±o" class="img-figure xs">

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_12351_.jpeg" alt="ROI y bolas de calibraci√≥n dentro del √°rea" class="img-figure sm">

<p style="margin:0 0 10px;">
  Haga clic en <b>Aplicar</b> para capturar el resultado de la calibraci√≥n y luego en <b>Guardar</b>
  para almacenarlo en la base de datos.
</p>

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.7. Cortador</b></p>

<p style="margin:0 0 10px;">
  El cortador debe configurarse para que el software pueda comparar las im√°genes de fruta de las
  c√°maras adyacentes. Tambi√©n permite establecer el n√∫mero y la posici√≥n de las copas visibles en
  la imagen de la c√°mara y configurar la distancia entre ellas.
</p>

<p style="margin:0 0 10px;">
  Comience configurando el <b>n√∫mero de copas base</b> para las c√°maras superiores en la secci√≥n
  <b>‚ÄúPosici√≥n de la c√°mara: SUPERIOR‚Äù</b> al n√∫mero de copas completas visibles menos uno.
  Esta configuraci√≥n global se aplicar√° a todas las c√°maras montadas en posici√≥n superior.
</p>

<p style="margin:0 0 10px;">
  Aseg√∫rese de modificar el n√∫mero de copas base solo durante la configuraci√≥n del primer carril.
  Si se cambia posteriormente, deber√° repetir la configuraci√≥n del cortador para todos los carriles.
  Lo mismo aplica para el ancho y alto de las copas; no se recomienda modificar los valores
  predeterminados, ya que podr√≠a afectar el rendimiento del sistema.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_12512_.jpeg" alt="Configuraci√≥n general del cortador" class="img-figure sm">

<p style="margin:0 0 10px;">
  Una vez configurados los tama√±os y la cantidad de copas, proceda con los siguientes pasos,
  configurando <b>un carril a la vez</b>, preferiblemente comenzando con c√°maras frontales,
  luego superiores y finalmente traseras:
</p>

<ol style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;">
    Haga clic en uno de los botones <b>Configurar</b> (marcados en rojo en la captura).
  </li>
  <li style="margin:6px 0;">
    Coloque las bolas de calibraci√≥n en las copas:
    <ul style="margin:6px 0 0; padding-left:18px;">
      <li>Al menos tres bolas para c√°maras superior, izquierda y derecha.</li>
      <li>Una bola para c√°maras frontal y trasera.</li>
    </ul>
  </li>
  <li style="margin:6px 0;">
    Regrese a la vista general del cortador y ajuste el <b>umbral del cortador</b> y el
    <b>di√°metro m√≠nimo de fruta</b> hasta que las bolas est√©n correctamente delineadas.
  </li>
  <li style="margin:6px 0;">
    Seleccione el panel izquierdo para ver la vista previa de copas y ajuste
    <b>X izquierda</b>, <b>Y izquierda</b>, <b>Y central</b>, <b>X derecha</b> y <b>Y derecha</b>
    para que las copas queden dentro de las √°reas de vista previa.
  </li>
</ol>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_1278_.jpeg" alt="Vista previa y ajuste de copas" class="img-figure sm">

<p style="margin:0 0 10px;">
  Para c√°maras frontal y trasera, solo se configura una copa, por lo que √∫nicamente est√°n
  disponibles los par√°metros <b>X izquierda</b> e <b>Y izquierda</b>.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_12752_.jpeg" alt="Configuraci√≥n de copas en c√°maras frontal y trasera" class="img-figure ss">

<p style="margin:0 0 10px;">
  El ancho m√°ximo del √°rea de previsualizaci√≥n (marcado con el recuadro rojo) debe ser al menos
  una copa menor que el √°rea visible. Esto compensa desalineaciones de la c√°mara que podr√≠an
  provocar que no se vean las mismas copas entre c√°maras adyacentes.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_12821_.jpeg" alt="Configuraci√≥n incorrecta del cortador" class="img-figure xs">

<!-- (ACA QUEDEEEEEEEEEEEE) -->
<p style="margin:0 0 10px;"><b>INCORRECTO:</b></p>

<img src="Imagenes/Captura de pantalla_24-12-2025_8223_.jpeg" alt="Configuraci√≥n correcta del cortador" class="img-figure sm">

<p style="margin:0 0 10px;"><b>CORRECTO:</b></p>

<img src="Imagenes/Captura de pantalla_24-12-2025_8241_.jpeg" alt="Configuraci√≥n correcta del cortador" class="img-figure sm">

<p style="margin:0 0 10px;">
  <b>5.</b> Ajuste la posici√≥n del <b>punto de referencia</b> para que la l√≠nea apunte directamente
  al marcador visible en la vista previa. Este punto se utilizar√° para calcular los desplazamientos
  de salida. Solo debe ajustarse para la c√°mara de referencia montada en la posici√≥n superior.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_8656_.jpeg" alt="Ajuste del punto de referencia" class="img-figure sm">

<p style="margin:0 0 10px;">
  <b>6.</b> Seleccione el segundo panel (derecha) y ajuste el cortador de la c√°mara dependiente
  hasta que los contornos de las bolas coincidan con las bolas reales.
</p>

<p style="margin:0 0 10px;"><b>INCORRECTO:</b></p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_8850_.jpeg" alt="Ajuste de c√°mara dependiente" class="img-figure sm">

<p style="margin:0 0 10px;"><b>CORRECTO:</b></p>

<img src="Imagenes/Captura de pantalla_24-12-2025_8106_.jpeg" alt="Ajuste de c√°mara dependiente" class="img-figure sm">

<p style="margin:0 0 10px;">
  <b>7.</b> Repita el paso anterior para cada c√°mara dependiente del carril.
</p>

<p style="margin:0 0 10px;">
  <b>8.</b> Configure la <b>primera copa</b>. Esta se refiere siempre a la primera imagen de la fruta.
  Si se utiliza c√°mara frontal, la primera copa es la visible; si no, corresponde a la copa m√°s a la
  izquierda vista por la c√°mara superior.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_8142_.jpeg" alt="Configuraci√≥n de la primera copa" class="img-figure xs">

<p style="margin:0 0 10px;">
  Ejemplo de configuraci√≥n de primera copa:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li><b>Frontal:</b> 0 (distancia entre A y A)</li>
  <li><b>Superior:</b> 1 (distancia entre A y B)</li>
  <li><b>Trasera:</b> 4 (distancia entre A y E)</li>
</ul>

<p style="margin:0 0 10px;">
  <b>9.</b> Guarde los cambios o restaure la configuraci√≥n anterior antes de cerrar la ventana.
  Al cerrar sin guardar, los cambios se perder√°n. Confirme que el punto de referencia est√© verificado
  marcando la opci√≥n correspondiente antes de guardar.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_81724_.jpeg" alt="Guardar configuraci√≥n del cortador" class="img-figure sm">

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.8. Calibraci√≥n de peso</b></p>

<p style="margin:0 0 10px;">
  La calibraci√≥n de peso se puede habilitar en la configuraci√≥n global. Requiere que la <b>celda de carga</b>
  y el <b>sensor de proximidad de sincronizaci√≥n de l√≠nea</b> est√©n montados y conectados a la <b>RTUnit</b>.
  La clasificaci√≥n por peso requiere una <b>RTUnit por carril</b>.
</p>

<p style="margin:0 0 10px;"><b>Montaje del sensor de proximidad de sincronizaci√≥n de l√≠nea</b></p>

<p style="margin:0 0 10px;">
  Aseg√∫rese de que el sensor est√© montado en una posici√≥n donde una de las copas quede aproximadamente
  en el centro de la celda de carga cuando se active la se√±al de sincronizaci√≥n de l√≠nea.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_8200_.jpeg" alt="Montaje del sensor de proximidad de sincronizaci√≥n de l√≠nea" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Descripci√≥n general / Configuraci√≥n del clasificador de peso</b></p>

<p style="margin:0 0 10px;">
  Comience configurando los siguientes par√°metros globales para <b>todos los carriles</b>:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;"><b>Peso de calibraci√≥n:</b> masa usada como referencia durante la calibraci√≥n.</li>
  <li style="margin:6px 0;">
    <b>N√∫mero de muestras de calibraci√≥n requeridas:</b> define cu√°ntas veces debe colocarse la masa en el carril.
    La masa debe colocarse en un recipiente diferente cada vez. M√°s muestras permiten definir mejor la desviaci√≥n
    √≥ptima de la se√±al de sincronizaci√≥n de l√≠nea para tomar mediciones de peso.
  </li>
  <li style="margin:6px 0;">
    <b>Diferencia m√≠nima entre el peso del vaso vac√≠o y el del vaso lleno durante la calibraci√≥n:</b>
    define la diferencia m√≠nima como porcentaje respecto a la lectura del vaso vac√≠o.
    Ejemplo: si se configura en 20% y el vaso vac√≠o marca 1000, con la masa debe marcar ‚â• 1200;
    si no, el vaso no se reconocer√° como lleno. Ajuste seg√∫n la celda de carga utilizada.
  </li>
</ul>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_8210_.jpeg" alt="Par√°metros de configuraci√≥n del clasificador de peso" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Diagn√≥stico</b></p>

<p style="margin:0 0 10px;">
  Una vez configurados los par√°metros globales, utilice <b>Diagn√≥stico</b> para verificar:
  que las celdas de carga est√©n conectadas correctamente y que la diferencia entre taza vac√≠a y llena sea adecuada.
</p>

<p style="margin:0 0 10px;">
  Nota: la l√≠nea de referencia se puede arrastrar o mover usando el control deslizante.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_82411_.jpeg" alt="Diagn√≥stico: l√≠nea de referencia" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Contando tazas</b></p>

<p style="margin:0 0 10px;">
  Aseg√∫rese de que los par√°metros <b>lane_pulsesPerEncoderRevolution</b> y <b>lane_cupsPerEncoderRevolution</b>
  en la configuraci√≥n global sean correctos y que los sensores de sincronizaci√≥n est√©n conectados a las RTUnits.
</p>

<p style="margin:0 0 10px;">
  Inicie el conteo de vasos para cada carril y siga las instrucciones en pantalla. El procedimiento solo puede
  ejecutarse para un carril, pero el resultado se puede guardar para todos si el n√∫mero de copas es igual
  (marque ‚ÄúAplicar a todos los carriles habilitados‚Äù antes de guardar).
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_82541_.jpeg" alt="Conteo de tazas por carril" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Calibraci√≥n</b></p>

<p style="margin:0 0 10px;">
  Configure Vision para cargar la distancia de la celda de carga (en copas) midiendo la distancia entre el punto
  de referencia (el mismo que se usa en la configuraci√≥n del cortador) y el centro de la celda de carga.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_84157_127.0.0.1.jpeg" alt="Distancia entre punto de referencia y celda de carga" class="img-figure sm">

<p style="margin:0 0 10px;">
  Inicie la calibraci√≥n y siga las instrucciones en pantalla:
</p>

<ul style="margin:0 0 12px; padding-left:18px;">
  <li style="margin:6px 0;">Poner en marcha la m√°quina y esperar la se√±al de sincronizaci√≥n de l√≠nea.</li>
  <li style="margin:6px 0;">Esperar hasta que la velocidad del carril se estabilice y alcance la velocidad deseada.</li>
  <li style="margin:6px 0;">
    Colocar la masa de referencia una vez para determinar la diferencia real entre vaso vac√≠o y lleno mientras la m√°quina
    est√° en funcionamiento.
  </li>
  <li style="margin:6px 0;">
    Esperar hasta que el programa recopile la cantidad necesaria de medidas de peso de vasos vac√≠os.
  </li>
  <li style="margin:6px 0;">
    Colocar la masa de referencia el n√∫mero de veces necesario para recolectar medidas de peso de vasos llenos.
  </li>
</ul>

<p style="margin:0 0 10px;">
  Una vez recopilados los datos, se mostrar√°n las tablas de configuraci√≥n del punto de referencia del clasificador de peso.
  El punto de referencia se establece autom√°ticamente para minimizar la desviaci√≥n est√°ndar, pero puede ajustarse manualmente
  antes de guardar.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_84431_127.0.0.1.jpeg" alt="Tablas y punto de referencia del clasificador de peso" class="img-figure sm">

<p style="margin:0 0 10px;"><b>Guardar y continuar con el siguiente carril</b></p>

<p style="margin:0 0 10px;">
  Los resultados se muestran en una pantalla de resumen para comparar carriles y verificar la velocidad a la que se calibraron.
  La calibraci√≥n y la velocidad de funcionamiento no deben variar m√°s del <b>10%</b> para asegurar precisi√≥n. Si se supera ese l√≠mite,
  se mostrar√° una advertencia en el estado del sistema.
</p>

<p style="margin:0 0 10px;">
  El <b>desplazamiento de peso seco (WG)</b> es el porcentaje del ancho de la celda de carga calculado a partir del punto de referencia y
  el n√∫mero de lecturas por vaso. El <b>promedio del desplazamiento</b> es la lectura media de la celda de carga para vasos vac√≠os.
  El <b>divisor</b> es el valor promedio de la celda de carga por unidad de masa, basado en vasos llenos durante la calibraci√≥n.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_84643_127.0.0.1.jpeg" alt="Resumen de resultados de calibraci√≥n de peso" class="img-figure sm">

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.9. Salidas</b></p>

<p style="margin:0 0 10px;">
  En esta ventana, el operador puede <b>agregar y eliminar salidas</b>.
  Adem√°s, permite configurar qu√© salidas se considerar√°n como <b>desperdicio</b>.
</p>

<p style="margin:0 0 10px;">
  La opci√≥n <b>‚ÄúEs desperdicio‚Äù</b> solo afecta a las <b>estad√≠sticas</b> del sistema y no modifica
  el comportamiento f√≠sico de las salidas durante la clasificaci√≥n.
</p>

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.10. Etiquetadoras</b></p>

<p style="margin:0 0 10px;">
  En esta ventana, el operador puede <b>agregar y quitar etiquetadoras</b> del sistema.
</p>

<p style="margin:0 0 10px;">
  Las etiquetadoras configuradas estar√°n disponibles posteriormente para ser
  <b>asignadas a salidas l√≥gicas</b> dentro del m√≥dulo de <b>Asignaciones de E/S</b>.
</p>

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.11. Asignaciones de IO</b></p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_84941_127.0.0.1.jpeg" alt="Dise√±os predefinidos de asignaciones IO" class="img-figure sm">

<p style="margin:0 0 10px;">
  El m√≥dulo <b>Asignaciones de E/S</b> permite al operador asignar las salidas de los
  m√≥dulos de E/S del Clasificador a <b>salidas l√≥gicas</b> y/o <b>etiquetadoras</b>.
</p>

<p style="margin:0 0 10px;">
  El operador puede utilizar uno de los <b>dise√±os predefinidos</b> seleccionando una
  de las opciones disponibles en la columna <b>Dise√±o</b>.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_85123_127.0.0.1.jpeg" alt="Dise√±os predefinidos de asignaciones IO" class="img-figure xs">

<p style="margin:0 0 10px;">
  Si ninguno de los dise√±os predefinidos se ajusta a la configuraci√≥n real del hardware,
  es posible <b>asignar manualmente</b> cada puerto seleccionando las
  salidas o etiquetadoras disponibles desde la lista.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_85344_127.0.0.1.jpeg" alt="Asignaci√≥n manual de puertos IO" class="img-figure xs">

<p style="margin:0 0 10px;">
  Tenga en cuenta que la lista solo muestra <b>salidas y etiquetadoras no asignadas</b>.
</p>

<p style="margin:0 0 10px;">
  El <b>fondo amarillo</b> indica puertos no utilizados dentro de la configuraci√≥n actual.
</p>

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.12. Desplazamientos de salida</b></p>

<p style="margin:0 0 10px;">
  El desplazamiento de salida es la <b>distancia entre una salida</b> y el <b>punto de referencia</b>
  configurado en la configuraci√≥n del cortador. La distancia se mide en <b>copas</b> y debe medirse manualmente.
</p>

<p style="margin:0 0 10px;">
  Primero, se ajusta ejecutando la <b>calibraci√≥n de salida</b>. Es necesario asignar salidas a los puertos
  de E/S en <b>Asignaciones de E/S</b> antes de iniciar la calibraci√≥n.
</p>

<p style="margin:0 0 10px;">
  <b>Copiar salida</b> o <b>Copiar carril</b> permite copiar r√°pidamente los desplazamientos entre carriles y salidas.
  Esto puede ser √∫til, ya que los m√≥dulos de salida deben montarse a la misma distancia del punto de referencia
  en cada carril (esto puede ocurrir solo en carriles pares e impares).
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_85525_127.0.0.1.jpeg" alt="Vista general de desplazamientos de salida" class="img-figure sm">

<p style="margin:0 0 10px;">
  Inicie la calibraci√≥n de salida cuando se hayan proporcionado todos los desplazamientos y dise√±os de salida.
</p>

<p style="margin:0 0 10px;">
  Conecte el <b>m√≥dulo de calibraci√≥n LED</b> a la salida LED del m√≥dulo de punci√≥n conectado a la salida/puntera
  que se est√° calibrando. Aseg√∫rese de que la m√°quina est√© en funcionamiento y marque la casilla junto al n√∫mero
  de salida calibrada.
</p>

<p style="margin:0 0 10px;">
  La luz intermitente del m√≥dulo de calibraci√≥n LED crea un efecto estrobosc√≥pico que permite ver la posici√≥n exacta
  de la copa sincronizada con la activaci√≥n del m√≥dulo de punci√≥n correspondiente.
</p>

<p style="margin:0 0 10px;">
  Aseg√∫rese de que el m√≥dulo de calibraci√≥n apunte al m√≥dulo de punci√≥n correcto y ajuste el desplazamiento hasta que
  la puntera apunte exactamente al centro de la copa. Repita el proceso para cada puntera.
</p>

<p style="margin:0 0 10px;"><b>INCORRECTO:</b></p>

<!-- INCORRECTO: (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_85947_127.0.0.1.jpeg" alt="Desplazamiento de salida incorrecto" class="img-figure s">

<p style="margin:0 0 10px;"><b>CORRECTO:</b></p>

<!-- CORRECTO: (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_85947_127.0.0.1.jpeg" alt="Desplazamiento de salida correcto" class="img-figure s">

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_9046_127.0.0.1.jpeg" alt="Proceso de calibraci√≥n de desplazamientos de salida" class="img-figure sm">

<p style="margin:0 0 10px;">
  Guarde los cambios antes de cerrar la ventana de <b>Desplazamientos de salida</b>.
</p>

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.13. Pruebas de salida</b></p>

<p style="margin:0 0 10px;">
  Las pruebas de salida permiten al operador <b>activar las salidas seleccionadas</b>
  para verificar su correcto funcionamiento.
</p>

<p style="margin:0 0 10px;">
  Las salidas se activan <b>secuencialmente</b>, comenzando por la salida 1
  para todos los carriles simult√°neamente.
</p>

<p style="margin:0 0 10px;">
  El intervalo de activaci√≥n se puede configurar mediante uno de los
  <b>valores predefinidos</b> disponibles en los botones de la parte superior.
</p>

<p style="margin:0 0 10px;">
  Cada salida puede seleccionarse de forma individual haciendo clic en la
  celda correspondiente de la tabla.
</p>

<p style="margin:0 0 10px;">
  Al hacer clic en el <b>encabezado de fila</b>, el operador puede seleccionar
  todas las salidas del carril correspondiente.
</p>

<p style="margin:0 0 10px;">
  Al hacer clic en el <b>encabezado de columna</b>, se seleccionan todas las
  salidas del n√∫mero indicado.
</p>

<!-- (imagen) -->
<img src="Imagenes/Captura de pantalla_24-12-2025_928_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.14. Desplazamientos de la etiquetadora</b></p>

<p style="margin:0 0 10px;">
  Los desplazamientos de la etiquetadora funcionan de la <b>misma manera</b>
  que los desplazamientos de salida.
</p>

<p style="margin:0 0 10px;">
  Consulte la secci√≥n <b>‚ÄúDesplazamientos de salida‚Äù</b> de este manual para
  obtener informaci√≥n detallada sobre el procedimiento de configuraci√≥n y calibraci√≥n.
</p>

<hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

<p style="margin:0 0 10px;"><b>8.15. Prueba de etiquetadora</b></p>

<p style="margin:0 0 10px;">
  La prueba de etiquetadora funciona de la <b>misma manera</b> que la prueba de salida.
</p>

<p style="margin:0 0 12px;">
  Consulte la secci√≥n <b>‚ÄúPruebas de salida‚Äù</b> de este manual para obtener
  informaci√≥n detallada sobre el procedimiento de prueba.
</p>

  </div>
</div>

</section>
<div class="figure">
  <div class="figure-h">
    <h3>9. Configuraci√≥n de perfiles</h3>
    <div class="hint">Ajustes de c√°mara, im√°genes y algoritmos de visi√≥n</div>
  </div>

  <div class="figure-b">
    <p>
      El sistema de perfiles permite al operador configurar los par√°metros de visi√≥n utilizados durante
      la clasificaci√≥n de fruta. Estos ajustes pueden variar dependiendo del color de la fruta,
      la rotaci√≥n durante el transporte y la complejidad del programa de clasificaci√≥n seleccionado.
    </p>

    <p>
      Desde el perfil es posible definir el n√∫mero de im√°genes utilizadas para la clasificaci√≥n
      (conteo de vasos), permitiendo optimizar el rendimiento de la unidad de visi√≥n cuando se utilizan
      algoritmos m√°s complejos o se trabaja con limitaciones de procesamiento.
    </p>

    <p>
      Algunos programas de clasificaci√≥n requieren una menor cantidad de im√°genes por fruta para
      cumplir con los requisitos de rendimiento de la unidad Vision.
    </p>

    <p>
      Para acceder a esta configuraci√≥n, aseg√∫rese de haber iniciado sesi√≥n como administrador y de que
      el sistema se encuentre en modo de configuraci√≥n. Abra la ventana de <strong>Configuraci√≥n de Perfiles</strong>
      desde el men√∫ principal.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_82319_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      En la parte inferior de la ventana, seleccione el perfil que desea editar. Es posible modificar
      el nombre del perfil y elegir uno de los algoritmos de visi√≥n disponibles.
    </p>

    <p>
      Configure el n√∫mero de im√°genes tomadas ajustando los siguientes par√°metros:
    </p>

    <ul>
      <li>
        <strong>Im√°genes por vaso:</strong> define cu√°ntas veces la c√°mara capturar√° una nueva imagen
        cada vez que la m√°quina avance un vaso.
      </li>
      <li>
        <strong>N√∫mero de im√°genes tomadas:</strong> define cu√°ntas im√°genes ser√°n capturadas y procesadas
        por cada fruta y por cada tipo de fotograf√≠a disponible (solo para c√°maras Top).
      </li>
    </ul>

    <p>
      El n√∫mero m√°ximo de im√°genes tomadas est√° limitado por la siguiente f√≥rmula:
    </p>

    <p style="text-align:center; font-weight:700;">
      (Cantidad de vasos base ‚àí 1) √ó Im√°genes por vaso + 1
    </p>

    <p>
      La cantidad de vasos base puede configurarse en la ventana de configuraci√≥n de la cortadora
      (ver secci√≥n correspondiente de este manual).
    </p>

    <p>
      Utilice la opci√≥n <strong>"Establecer como actual"</strong> para definir el perfil que ser√° utilizado
      durante la clasificaci√≥n. El perfil actual no puede ser eliminado y solo puede modificarse
      en modo de configuraci√≥n.
    </p>

    <p>
      Si el nuevo perfil actual utiliza un algoritmo de visi√≥n diferente al del perfil anterior,
      el programa de clasificaci√≥n dejar√° de estar configurado como actual debido a la compatibilidad
      entre algoritmos. El perfil activo se muestra en la barra superior de la ventana principal.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_82618_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Utilice las pesta√±as ubicadas en el lateral izquierdo de la ventana para acceder al formulario
      de configuraci√≥n de c√°maras.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_82734_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Seleccione el perfil editado desde la lista ubicada en la esquina superior izquierda de la ventana
      y ajuste los par√°metros espec√≠ficos de la c√°mara seg√∫n sea necesario. Una vez realizados los cambios,
      guarde la configuraci√≥n.
    </p>

    <p>
      La opci√≥n <strong>"Copiar por tipo de foto"</strong> permite copiar la configuraci√≥n de la c√°mara
      seleccionada a todas las c√°maras que utilicen el mismo tipo de fotograf√≠a, agilizando el proceso
      de configuraci√≥n.
    </p>
  </div>
  </div>
</section>

<!-- ===================== -->
<!-- 10. PROGRAMAS DE CALIFICACI√ìN -->
<!-- ===================== -->
<div class="figure" id="programas-calificacion">
  <div class="figure-h">
    <h3>10. Programas de calificaci√≥n</h3>
    <div class="hint">Configuraci√≥n de programas, tabla de clasificaci√≥n y par√°metros avanzados</div>
  </div>

  <div class="figure-b">

    <p>
      Un programa de clasificaci√≥n consta de un conjunto de par√°metros y opciones de configuraci√≥n que determinan
      c√≥mo se clasifica la fruta. Cada programa debe asignarse a un perfil que determina el algoritmo de visi√≥n que se
      utilizar√° para la clasificaci√≥n. GP Vision Grader permite al operador crear m√∫ltiples programas de clasificaci√≥n y
      alternar entre ellos durante la clasificaci√≥n. Utilice el men√∫ principal para abrir la ventana de programas de
      clasificaci√≥n. A√±ada un nuevo programa de clasificaci√≥n: as√≠gnele un nombre y seleccione un perfil.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_125710_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure ss">

    <p>
      Utilice "Establecer como actual" para cambiar el programa de calificaci√≥n actual. Este programa se muestra en la
      barra superior de la ventana principal:
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_125843_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Los programas de calificaci√≥n se pueden clonar, eliminar, importar y exportar.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_125943_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure md">

    <p>
  Haga doble clic o seleccione Abrir/editar para editar el programa de calificaci√≥n.
    </p>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:0 0 10px;"><b>10.1. Tabla de clasificaci√≥n</b></p>

    <p>
      La tabla de calificaci√≥n consta de siete secciones:
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_1336_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <ol style="margin:0; padding-left:18px;">
      <li style="margin:10px 0;">
        <b>Arrastrar y soltar:</b> permite al operador cambiar el orden de las clases arrastrando y soltando las filas de la tabla.
        El programa de clasificaci√≥n procesa la tabla de clasificaci√≥n de arriba a abajo. Si no se cumplen las condiciones de la
        primera clase de la tabla, se analiza la siguiente. La fruta clasificada se asignar√° a la primera clase que cumpla las
        condiciones.
      </li>

      <li style="margin:10px 0;">
        <b>Estado:</b> muestra advertencias y errores. En el ejemplo anterior, el s√≠mbolo de advertencia indica que no se han especificado
        condiciones de clasificaci√≥n para la nueva Clase 1. Esto podr√≠a provocar que todas las frutas se asignen a esa clase.
        Pase el cursor sobre el s√≠mbolo de advertencia para ver la informaci√≥n sobre herramientas con los detalles de la advertencia.
      </li>

      <li style="margin:10px 0;">
        <b>Clase:</b> muestra el nombre de la clase y, opcionalmente, el nombre del grupo asignado (entre par√©ntesis). Cada clase se
        representa en una sola fila en la tabla de calificaci√≥n. Utilice el bot√≥n "A√±adir clase" en la esquina superior derecha de la
        ventana para a√±adir una nueva clase o utilice el men√∫ contextual para a√±adir una nueva clase directamente debajo de la
        clase seleccionada. El nombre se asignar√° autom√°ticamente. Haga clic en la celda de la columna "Clase" para cambiar
        el nombre de la clase. Es importante recordar que los nombres de las clases deben ser √∫nicos; de lo contrario, GP Vision
        Grader no permitir√° que el operador guarde los cambios y mostrar√° un mensaje de error junto al bot√≥n "Guardar".
      </li>
    </ol>

    <img src="Imagenes/Captura de pantalla_26-12-2025_13435_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Haga clic derecho en la fila de la tabla para agregar/editar/copiar/eliminar la clase (aparecer√° un men√∫ contextual)
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_13519_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure xs">

    <p>
      La ventana del editor de clases permite al operador modificar las condiciones de las entidades (en particular, las
      relacionadas con las entidades mostradas en modo compacto) y la asignaci√≥n de grupos. Los grupos se utilizan
      √∫nicamente para generar informes; si no se asigna ning√∫n grupo, se usar√° el nombre de la clase.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_13849_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure ss">

    <p style="margin:14px 0 10px;">
      <b>4. Salidas:</b> Cada clase debe tener al menos una salida asignada. Para asignar salidas, introduzca el n√∫mero de
      salida separado por comas en la columna "Salida". Tambi√©n es posible proporcionar rangos de n√∫meros de
      salida, introduciendo el primer y el √∫ltimo n√∫mero de salida en un rango separado por un guion. A continuaci√≥n,
      se muestran algunos ejemplos de asignaciones de salida correctas:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>1</li>
      <li>2, 3, 4</li>
      <li>24</li>
      <li>24,7,911</li>
    </ul>

    <p style="margin:14px 0 10px;">
      <b>5. Caracter√≠sticas:</b> todas las caracter√≠sticas utilizadas para la calificaci√≥n en el programa de calificaci√≥n se muestran como
      columnas en la tabla. Haga clic en "Administrar caracter√≠sticas" para agregar, eliminar, cambiar los nombres o el orden de
      las caracter√≠sticas (consulte la secci√≥n "Administrar caracter√≠sticas" de este manual para obtener m√°s informaci√≥n).
    </p>

    <p style="margin:14px 0 10px;">
      <b>6. Condiciones de clasificaci√≥n:</b> cada clase puede tener un conjunto de condiciones de clasificaci√≥n que determinan
      si la fruta se asignar√° a esa clase. Es importante tener en cuenta que las condiciones de clasificaci√≥n de una
      sola clase deben considerarse como si existiera una operaci√≥n l√≥gica AND entre ellas. Esto significa que todas
      las condiciones de clasificaci√≥n de la clase dada deben cumplirse para asignar la fruta a esa clase. Existen dos
      tipos de condiciones de clasificaci√≥n: n√∫mero/m√≠nm√°x o verdadero/falso.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_13945_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure ss">

    <p>
      En el ejemplo anterior hay dos caracter√≠sticas, pero solo una tiene una condici√≥n de calificaci√≥n especificada.
      La condici√≥n de calificaci√≥n indica que el % promedio de Shivel de la caracter√≠stica debe ser mayor o igual a 0,18.
      No se especifica un valor m√°ximo. La casilla de verificaci√≥n "Tallo" permanece vac√≠a, por lo que se omitir√°. Es
      importante tener en cuenta que las caracter√≠sticas de verdadero/falso utilizan casillas de verificaci√≥n triestado:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>sin condici√≥n de calificaci√≥n</li>
      <li>la caracter√≠stica debe ser falsa</li>
      <li>la caracter√≠stica debe ser verdadera</li>
    </ul>

    <p style="margin:14px 0 10px;">
      <b>7. Otros:</b> muestra las condiciones de las caracter√≠sticas relacionadas con las caracter√≠sticas mostradas en modo compacto.
      El signo m√°s indica varias condiciones de caracter√≠sticas. Haga clic con el bot√≥n derecho en una fila de la tabla para abrir
      el men√∫ contextual y la ventana del editor de clases para editar la condici√≥n de la caracter√≠stica relacionada. Utilice el
      administrador de caracter√≠sticas (Administrar caracter√≠sticas) para cambiar el modo de visualizaci√≥n entre est√°ndar y compacto.
    </p>

    <p style="margin:14px 0 10px;"><b>Etiquetadoras</b></p>

    <p>
      Si se agregan etiquetadoras (consulte Configuraci√≥n del sistema &gt; Etiquetadoras), la columna Etiquetadora aparecer√° entre las secciones
      "Salida" y "Caracter√≠sticas" de la tabla. Utilice el men√∫ desplegable de etiquetadoras para seleccionar la que se usar√° para la clase dada.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131042_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p style="margin:14px 0 10px;"><b>Interruptor de alternancia de actualizaciones de API</b></p>

    <p>
      El interruptor "Actualizaciones de API" aparece en la esquina superior derecha, sobre la tabla de calificaci√≥n, si las actualizaciones del
      programa de calificaci√≥n a trav√©s de la API est√°n habilitadas (ver: Configuraci√≥n de la aplicaci√≥n). Al habilitar las actualizaciones de API
      para el programa en cuesti√≥n, se deshabilitan la tabla de calificaci√≥n y todas las funciones de gesti√≥n del programa de calificaci√≥n
      relacionadas con este. El interruptor solo est√° activo si no hay cambios pendientes. Las Actualizaciones de API deben estar habilitadas
      para editar el programa de calificaci√≥n a trav√©s de la API.
    </p>

    <p style="margin:14px 0 10px;"><b>Guardar/Restaurar, Guardar y aplicar/Restaurar</b></p>

    <p>
      Cada cambio realizado en el programa de calificaci√≥n debe guardarse o cancelarse. Mientras no se guarde y aplique, los cambios no
      tendr√°n ning√∫n efecto en la calificaci√≥n. Utilice los botones Guardar y Restaurar en la esquina inferior derecha de la ventana. El bot√≥n
      Guardar indicar√° los cambios no guardados activando el icono del disco. El bot√≥n Guardar solo guardar√° los cambios pendientes en la
      base de datos. Si el operador est√° editando el programa de calificaci√≥n actual y el sistema est√° en modo de calificaci√≥n, el bot√≥n Guardar
      ser√° reemplazado por el bot√≥n Guardar y aplicar, que guarda el programa de calificaci√≥n en la base de datos y env√≠a la nueva configuraci√≥n
      a las unidades Vision.
    </p>

    <p>No hay cambios pendientes:</p>
    <img src="Imagenes/Captura de pantalla_26-12-2025_131124_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure xs">

    <p>Cambios no guardados:</p>
    <img src="Imagenes/Captura de pantalla_26-12-2025_13125_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure xs">

    <p>Guardar y aplicar:</p>
    <img src="Imagenes/Captura de pantalla_26-12-2025_131310_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure xs">

    <p style="margin:14px 0 10px;"><b>Vista previa de los cambios de distribuci√≥n</b></p>

    <p>
      Antes de guardar, el operador puede obtener una vista previa de c√≥mo los cambios influir√°n en la distribuci√≥n de la fruta.
      La distribuci√≥n se calcula en base a la fruta ya clasificada almacenada en la memoria de la Unidad de Visi√≥n.
      El n√∫mero de elementos almacenados para calcular los cambios de distribuci√≥n se puede ajustar en la configuraci√≥n global. El gr√°fico se
      puede ordenar en orden descendente o por orden de clases en la tabla de calificaci√≥n (si se selecciona la distribuci√≥n por clase). Al pasar
      el cursor sobre las columnas del gr√°fico, se muestra la distribuci√≥n en puntos porcentuales de toda la distribuci√≥n y los porcentajes
      relacionados con la columna correspondiente.
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>Azul ‚Äì l√≠nea base ‚Äì porci√≥n sin cambios de la distribuci√≥n</li>
      <li>Verde ‚Äì aumento de la distribuci√≥n</li>
      <li>Gris ‚Äì disminuci√≥n de la distribuci√≥n</li>
    </ul>

    <p>
      Entonces la distribuci√≥n total despu√©s de los cambios ser√≠a Azul + Verde, antes de los cambios: Azul + Gris.
      El n√∫mero sin clasificar en la esquina superior derecha muestra el porcentaje de fruta que no cumple con los criterios de
      ninguna clase en la tabla de clasificaci√≥n.
    </p>

    <p>
      Guardar, Guardar y Aplicar funcionan igual que en la tabla de calificaci√≥n. Volver permite al operador volver a editar el
      programa de calificaci√≥n sin guardar los cambios.
    </p>

    <p>
      El bot√≥n "Editar programa" deshabilita la vista previa de los cambios de distribuci√≥n. Esto se debe a que editar el programa
      de calificaci√≥n puede cambiar la lista de funciones disponibles. La opci√≥n "Administrar funciones" a√∫n se puede usar, ya que
      no afecta la lista de funciones disponibles; solo las agrega o elimina de la tabla de calificaci√≥n.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131350_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p style="margin:14px 0 10px;"><b>Editar programa</b></p>

    <p>
      Editar programa abre la ventana de configuraci√≥n del programa, que permite al operador modificar la configuraci√≥n del
      programa y gestionar la lista de funciones disponibles. Consulte la secci√≥n "Editar programa" de este manual para obtener
      m√°s informaci√≥n.
    </p>

    <p style="margin:14px 0 10px;"><b>Indicador de programa actual</b></p>

    <p>
      La l√≠nea vertical verde en el lado izquierdo de la pesta√±a del programa de calificaci√≥n indica que el programa seleccionado
      es el programa actual.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131436_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure s">


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:0 0 10px;"><b>10.2. Distribuci√≥n de salidas</b></p>

    <p>
      El m√≥dulo de distribuci√≥n de salidas permite al operador configurar un tipo espec√≠fico de distribuci√≥n de fruta dentro de los
      grupos de salidas. Para a√±adir una nueva distribuci√≥n de salidas, haga clic en el bot√≥n "A√±adir distribuci√≥n de salidas".
      Complete el formulario con la siguiente informaci√≥n:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>
        <b>Modo:</b>
        <ul style="margin:6px 0 0; padding-left:18px;">
          <li>
            <b>Global:</b> cuenta los elementos globalmente (toma en cuenta todos los carriles al agregar elementos). Tenga en cuenta
            que el modo global requiere que se defina el maestro de distribuci√≥n de salida (consulte Configuraci√≥n del sistema &gt; Carriles).
            El maestro de distribuci√≥n de salida es responsable de resolver la salida seg√∫n la clase reportada por los carriles; en otras palabras,
            los carriles esclavos preguntan al maestro de distribuci√≥n de salida d√≥nde expulsar cada elemento.
          </li>
          <li><b>Local:</b> cada carril cuenta los art√≠culos individualmente.</li>
        </ul>
      </li>

      <li>
        <b>Tipo:</b>
        <ul style="margin:6px 0 0; padding-left:18px;">
          <li><b>Conteo:</b> distribuci√≥n por n√∫mero de elementos calificados.</li>
          <li><b>Peso:</b> distribuci√≥n por peso de los art√≠culos clasificados.</li>
          <li><b>Cuantiles:</b> distribuci√≥n por caracter√≠stica seleccionada; el n√∫mero de cuantiles depende del n√∫mero de salidas elegidas.</li>
        </ul>
      </li>

      <li><b>Caracter√≠stica:</b> requerida solo cuando se selecciona el tipo Cuantiles.</li>
      <li><b>Elementos cuant√≠licos:</b> n√∫mero de elementos recientes utilizados para calcular rangos de cuartiles para la caracter√≠stica seleccionada.</li>
      <li>
        <b>Secuencia de salida:</b> lista de salidas entre las que se distribuye la fruta. Tenga en cuenta que el orden de salida no importa;
        las salidas se ordenar√°n en orden ascendente seg√∫n su n√∫mero.
        <ul style="margin:6px 0 0; padding-left:18px;">
          <li><b>Salida:</b> n√∫mero de salida.</li>
          <li><b>Cantidad:</b> requerida para los tipos Cantidad y Peso (significa cantidad o peso respectivamente).</li>
          <li><b>Unidad:</b> requerida para el tipo Peso.</li>
        </ul>
      </li>
    </ul>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131541_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p style="margin:14px 0 10px;">
      Es importante tener en cuenta que:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>La salida no se puede asignar a m√°s de una distribuci√≥n.</li>
      <li>
        Si una clase se asigna a una salida que pertenece a una de las distribuciones, todos los elementos calificados como esta
        clase se redirigir√°n autom√°ticamente al m√≥dulo de distribuci√≥n para resolver el n√∫mero de salida.
      </li>
    </ul>

    <p>
      Ejemplo: La clase 1 se asigna a las salidas 3 y 4. El operador ha definido una distribuci√≥n para las salidas 1, 2 y 3.
      Si un art√≠culo se clasifica como Clase 1, se expulsar√° a la salida 1, 2 o 3 (seg√∫n el estado actual del m√≥dulo de distribuci√≥n).
      Nunca se expulsar√° a la salida 4, ya que la Clase 1 est√° asignada a la salida 3, lo que resulta en que todos los art√≠culos se
      redirijan a la distribuci√≥n de las salidas 1, 2 y 3.
    </p>

    <p>
      Haga clic derecho en la tabla de distribuci√≥n Salir para editar o eliminar la distribuci√≥n:
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131626_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:0 0 10px;"><b>10.3. Administrar funciones</b></p>

    <p>
      En esta ventana, el operador puede agregar o quitar caracter√≠sticas a/de la tabla de clasificaci√≥n.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131710_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      La tabla de la izquierda muestra las caracter√≠sticas a√±adidas a la tabla de clasificaci√≥n. La tabla de la derecha muestra todas las
      caracter√≠sticas disponibles. Haga doble clic o seleccione y use las flechas centrales para a√±adir o eliminar una caracter√≠stica
      de la tabla de calificaci√≥n.
    </p>

    <p style="margin:14px 0 10px;"><b>Caracter√≠sticas elegidas:</b></p>

    <p>
      Elija uno de los dos modos de visualizaci√≥n disponibles:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li><b>Est√°ndar:</b> se muestra como una columna separada en la tabla de calificaci√≥n.</li>
      <li><b>Compacto:</b> se muestra en la √∫ltima columna de la tabla de clasificaci√≥n (Otro), visible solo si la condici√≥n de la caracter√≠stica est√° definida para la clase dada.</li>
    </ul>

    <p>
      Utilice las flechas y el icono de edici√≥n para cambiar el orden o asignar un nombre personalizado.
      Tambi√©n se pueden reordenar las caracter√≠sticas seleccionadas arrastrando y soltando el nombre. Este nombre
      se mostrar√° en la tabla de clasificaci√≥n. El orden tambi√©n se aplicar√° a la tabla de clasificaci√≥n.
      El color rojo indica que la caracter√≠stica ya no existe (por ejemplo, debido a que se elimin√≥ el espectro relacionado).
    </p>


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:0 0 10px;"><b>10.4. Editar programa</b></p>

    <p>
      Cambie entre las pesta√±as para configurar el programa de calificaci√≥n.
    </p>

    <p style="margin:14px 0 10px;"><b>10.4.1. Detecci√≥n de frutas</b></p>

    <p>
      Todos los par√°metros relacionados con la detecci√≥n de fruta y tallo se pueden configurar en la pesta√±a de detecci√≥n de fruta. Cargue
      im√°genes en el selector de fruta y ajuste los par√°metros mientras observa la vista previa de la imagen. El borde verde indica que la fruta se
      ha detectado correctamente.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131756_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Seleccione uno de los tipos de anotaciones disponibles (Fruta/Tallo) para ver diferentes anotaciones en la ventana de
      vista previa. Es importante tener en cuenta que al editar los par√°metros a la izquierda, el tipo de anotaci√≥n cambiar√°
      autom√°ticamente (Fruta para los par√°metros de detecci√≥n de fruta, Tallo para los par√°metros de detecci√≥n de tallo).
    </p>

    <p>
      Utilice Exportar/Importar para exportar e importar par√°metros de detecci√≥n de fruta (espectros de tallo y par√°metros
      relacionados). Tenga en cuenta que los distintos algoritmos de fruta pueden utilizar par√°metros diferentes. Importar la
      configuraci√≥n de un programa con un algoritmo diferente conservar√° solo el conjunto de par√°metros com√∫n a ambos
      algoritmos.
    </p>

    <p>
      A continuaci√≥n puede encontrar un ejemplo de parametrizaci√≥n incorrecta:
      Debido al bajo umbral de detecci√≥n de fruta, algunos elementos del fondo podr√≠an detectarse como fruta (fondo verde, sin
      borde azul). En este ejemplo, la fruta se detecta correctamente, pero es muy probable que no funcione con otras
      im√°genes.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131845_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Si se reduce un poco el di√°metro m√≠nimo, el programa comienza a ver m√°s frutas y el algoritmo de detecci√≥n de
      frutas devuelve falso porque parte de esa fruta est√° fuera de la imagen:
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_131959_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Para configurar la detecci√≥n del tallo se deben configurar los par√°metros relacionados con el tallo y dos espectros:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li style="margin:6px 0;">
        <b>Tallo externo e interno:</b> se utiliza para detectar el tallo fuera de la fruta (marca azul). Tambi√©n se utiliza para detectar el tallo dentro
        de la fruta, pero solo si el √°rea encontrada conecta con un tallo fuera de la fruta.
      </li>
      <li style="margin:6px 0;">
        <b>Tallo interno:</b> se utiliza para detectar el color del tallo en el interior de la fruta (no se requiere conexi√≥n con el exterior). En general,
        este espectro deber√≠a ser m√°s restrictivo que los espectros de tallo externo e interno.
      </li>
    </ul>

    <img src="Imagenes/Captura de pantalla_26-12-2025_132048_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Aseg√∫rese de realizar la prueba en m√°s de una imagen. Restablezca los valores predeterminados si es necesario. Consulte Spectra
      para obtener m√°s detalles sobre c√≥mo funciona el selector de espectro.
    </p>

    <p style="margin:14px 0 10px;"><b>Detecci√≥n de frutas para ostras</b></p>

    <p>
      El algoritmo de ostras separa el fondo por color. El color de fondo se selecciona mediante dos umbrales en el rango de tono. En el
      ejemplo a continuaci√≥n, el azul es el color de fondo (indicado por la ausencia de una l√≠nea blanca bajo el control de tono). En este
      ejemplo, se utilizan colores distintos del azul para detectar el cuerpo del fruto (indicado por una l√≠nea blanca).
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_132134_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure s">


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:14px 0 10px;"><b>10.4.2. Espectros</b></p>

    <p>
      Un espectro en GP Vision Grader define un conjunto de rangos de valores de diferentes canales. Estos rangos se
      utilizan para calcular el porcentaje de la superficie de la fruta dentro de dicho rango y los valores promedio de los
      canales de color dentro de dicho rango. Estos valores calculados se presentan como caracter√≠sticas que pueden
      utilizarse en la tabla de clasificaci√≥n.
    </p>

    <p>
      Agregue un nuevo espectro para abrir la ventana del editor de espectro.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_132246_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      As√≠gnele un nombre y, opcionalmente, una descripci√≥n. Cargue la imagen en el selector de frutas y seleccione una de
      las im√°genes cargadas para previsualizarla. Si la imagen cargada era una fruta real clasificada (la fruta se carg√≥ en
      modo de clasificaci√≥n), sus valores caracter√≠sticos estar√°n disponibles en la parte superior izquierda de la ventana.
    </p>

    <p style="margin:14px 0 10px;"><b>Selector de rango</b></p>

    <p>
      De forma predeterminada, se crea un rango que cubre todo el espectro. Esto significa que toda la fruta debe estar
      cubierta por el color del rango. Ajuste los selectores de rango arrastrando los bordes o las esquinas del selector de rango.
      Mantenga presionada la tecla Ctrl para mover todo el rango. Haga clic para agregar o eliminar rango. Seleccione rangos haciendo
      clic en los n√∫meros. Se pueden agregar hasta cinco rangos para cada espectro. Se muestran los valores reales seleccionados por
      el rango en cada canal junto al canal indicado. Use los botones copiar y pegar para copiar rangos entre espectros. Elimine primero
      todos los rangos para pegar los rangos copiados en la memoria (el bot√≥n Pegar estar√° deshabilitado mientras exista un rango).
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_13245_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure s">

    <p>
      Ajuste las posiciones del selector de rango para cada canal disponible. Aqu√≠ est√° la lista de canales disponibles:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li><b>Tono, Sat, Val:</b> esos son los canales HSV de la imagen de la c√°mara a color.</li>
      <li><b>NIR:</b> imagen NIR.</li>
      <li>
        <b>NIR Grad ‚Äì Gradiente NIR:</b> detecta cambios en el valor de los p√≠xeles en la imagen NIR, se puede utilizar para
        detecci√≥n de bordes (arrugas).
      </li>
      <li>
        <b>NIR Equ ‚Äì NIR Equalized ‚Äì Versi√≥n ecualizada de la imagen NIR:</b> la ecualizaci√≥n debe hacer que el valor promedio de los p√≠xeles
        sea igual a 128 para cada imagen. Permite detectar los puntos m√°s brillantes o m√°s oscuros.
      </li>
    </ul>

    <p style="margin:14px 0 10px;"><b>Visualizaci√≥n del valor de los p√≠xeles</b></p>

    <p>
      Los valores de p√≠xeles de la imagen previsualizada se pueden visualizar en el control Selector de rango, est√°n disponibles las
      siguientes herramientas:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>activa el modo de arrastre</li>
      <li>activa el modo de selecci√≥n de color: cada p√≠xel seleccionado se visualiza en el selector de rango</li>
      <li>goma ‚Äì elimina la selecci√≥n de p√≠xeles</li>
      <li>deshacer ‚Äì revierte la √∫ltima selecci√≥n</li>
      <li>borra la selecci√≥n</li>
    </ul>

    <p>
      Los puntos en el selector de rango (a la izquierda, imagen inferior) representan los valores de los p√≠xeles seleccionados (p√≠xeles
      naranja y azul claro en la vista previa de la imagen a la derecha). Los p√≠xeles rosa (Rango) y azul claro (superpuestos) en la vista
      previa de la imagen representan los rangos seleccionados. El color auxiliar define el color de las l√≠neas de ayuda.
      Use para mostrar/ocultar anotaciones y l√≠neas de ayuda.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_132557_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      El operador puede cambiar los colores si es necesario.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_132820_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure ss">

    <p>
      Hay dos ventanas de vista previa de im√°genes que permiten al operador comparar f√°cilmente diferentes tipos de im√°genes.
      Utilice el men√∫ desplegable sobre la vista previa para cambiar el tipo de imagen.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_132857_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure ss">

    <p style="margin:14px 0 10px;"><b>Conteo puntual</b></p>

    <p>
      Algunos rangos pueden provocar que se muestre una gran cantidad de puntos en la vista previa de la imagen. En algunos
      casos, puede ser √∫til eliminar los puntos m√°s peque√±os o contarlos. Utilice la opci√≥n "Calcular puntos" para ello. Hay tres modos
      posibles:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li><b>No hacer nada:</b> no se realiza ninguna eliminaci√≥n ni recuento de manchas.</li>
      <li>
        <b>Eliminar puntos peque√±os:</b> elimina los puntos menores que el umbral establecido (en unidades cuadradas o porcentaje). Los
        puntos eliminados no se tendr√°n en cuenta al calcular los valores porcentuales del espectro cubierto ni los valores promedio.
      </li>
      <li>
        <b>Tres clases:</b> divide los puntos en tres clases: peque√±o, mediano y grande. Al habilitar este modo, se crean caracter√≠sticas
        adicionales que representan el n√∫mero de puntos en cada una de las tres clases.
      </li>
    </ul>

    <p style="margin:14px 0 10px;"><b>Par√°metros del espectro</b></p>

    <p>
      Se pueden configurar los siguientes par√°metros del espectro:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>
        <b>Margen de seguridad corporal ignorado:</b> en la unidad del sistema (mm por defecto): define el ancho del √°rea ignorada en el borde de la fruta.
      </li>
      <li>
        <b>Margen de seguridad del tallo ignorado:</b> en unidades del sistema (mm por defecto): define el ancho del √°rea ignorada cerca del tallo (si existe tallo).
      </li>
      <li>
        <b>Distancia m√≠nima al tallo:</b> en unidades del sistema (mm por defecto). Puede activarse o desactivarse (casilla de verificaci√≥n).
        Define la distancia m√≠nima al tallo. Si alguna parte de un foco se encuentra dentro de esa distancia, se ignorar√° todo el foco.
      </li>
      <li>
        <b>Omitir im√°genes sin tallo:</b> las im√°genes sin tallo no se tienen en cuenta al calcular caracter√≠sticas del espectro.
      </li>
      <li>
        <b>M√≠nimo de im√°genes presentes:</b> si no se encuentra el espectro en la cantidad dada de im√°genes, las caracter√≠sticas del
        espectro agregado (como: porcentaje promedio cubierto, etc.) devolver√°n 0. Los valores espec√≠ficos de la imagen devolver√°n los valores reales.
      </li>
      <li>
        <b>M√≠nimo de im√°genes presentes consecutivas:</b> el m√≠nimo de im√°genes presentes cuenta las im√°genes consecutivas solo.
      </li>
      <li>
        <b>Posici√≥n de la c√°mara:</b> seleccione para qu√© fuentes de fotos (posiciones de c√°mara) se calcular√°n las caracter√≠sticas relacionadas con el espectro dado.
        Por razones de rendimiento, no se recomienda seleccionar posiciones de c√°mara que generen caracter√≠sticas no utilizadas en la tabla de clasificaci√≥n.
      </li>
    </ul>

    <p style="margin:14px 0 10px;"><b>Eliminar/editar espectro</b></p>

    <p>
      Cierre la ventana del editor de espectro para volver a la lista de espectro. Utilice el men√∫ contextual para exportar,
      editar o eliminar un espectro existente. Tambi√©n se puede hacer doble clic para abrir el editor de espectro. Es importante
      tener en cuenta que al eliminar el espectro tambi√©n se eliminar√°n las caracter√≠sticas relacionadas.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_133022_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:14px 0 10px;"><b>10.4.3. Puntos blandos</b></p>

    <p>
      Todos los par√°metros relacionados con los puntos suaves se pueden ajustar en la pesta√±a Puntos suaves. Cargue las
      im√°genes en el selector de frutas y ajuste los par√°metros mientras observa la visualizaci√≥n en la vista previa de la imagen.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_133134_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

    <p>
      Margen de seguridad corporal en puntos blandos: representado por la l√≠nea azul en la vista previa.
      Los puntos blandos constituyen el margen de seguridad, representado por la l√≠nea roja en la vista previa.
    </p>

    <p>
      Eliminar puntos largos con una relaci√≥n de rect√°ngulo delimitador menor que: ignora los puntos suaves largos seg√∫n la relaci√≥n
      del rect√°ngulo delimitador: 0: no se produce ninguna eliminaci√≥n; 1: se ignoran todos los puntos suaves, excepto aquellos con
      rect√°ngulos delimitadores cuadrados.
    </p>

    <p>
      Eliminar el punto blando m√°s grande en im√°genes sin tallo: ignora el punto blando m√°s grande si no se encuentra el tallo; se aplica
      por imagen.
    </p>

    <p style="margin:14px 0 10px;">
      Los siguientes par√°metros se refieren a puntos blandos peque√±os y grandes:
    </p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li><b>√Årea m√≠nima:</b> √°rea m√≠nima del punto en mm2.</li>
      <li>
        <b>Umbral bajo:</b> un valor entre 0 y 100, la probabilidad de un punto suave de todos los p√≠xeles que tengan un valor inferior al umbral
        dado ser√° del 100% (los p√≠xeles m√°s oscuros tienen valores m√°s bajos y una mayor probabilidad de un punto suave).
      </li>
      <li>
        <b>Umbral alto:</b> un valor entre 0 y 100, debe ser mayor que el Umbral bajo, la probabilidad de punto suave de todos los p√≠xeles
        que tienen un valor mayor que el umbral dado ser√° 0%, la probabilidad de valores de p√≠xeles entre umbrales inferiores y superiores
        se escalar√° linealmente.
      </li>
      <li>
        <b>Umbral de probabilidad:</b> todos los p√≠xeles que tengan una probabilidad de punto blando superior al umbral dado se considerar√°n un
        punto blando.
      </li>
      <li>
        <b>Umbral de punto d√©bil profundo:</b> los valores de todos los p√≠xeles que constituyen un punto d√©bil (seg√∫n el umbral de probabilidad)
        se comparan con este umbral. Si el valor es inferior, el p√≠xel tambi√©n se considera un punto d√©bil profundo.
      </li>
      <li>
        <b>Radio de ecualizaci√≥n (en p√≠xeles):</b> cuanto mayor sea el radio, m√°s grandes ser√°n los puntos suaves que se detectar√°n.
      </li>
      <li>
        <b>Porcentaje m√°s brillante ignorado en ecualizaci√≥n:</b> el porcentaje de los valores de p√≠xeles m√°s brillantes que no se tendr√°n en cuenta al ecualizar la imagen.
      </li>
    </ul>

    <p>
      Utilice las pesta√±as para cambiar entre las posiciones de la c√°mara; cada posici√≥n tiene su propio conjunto de ajustes.
      Las pesta√±as de posici√≥n de la c√°mara solo aparecen si la posici√≥n de la c√°mara est√° habilitada en los par√°metros
      avanzados.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_133242_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:14px 0 10px;"><b>10.4.4. Funciones personalizadas</b></p>

    <p>
      GP Vision Grader permite al operador crear funciones personalizadas a partir de las existentes. Abra la ventana de
      funciones personalizadas a√±adiendo una nueva o editando una existente. As√≠gnele un nombre y seleccione las dos
      funciones que la conformar√°n. Elija una de las operaciones disponibles y multipl√≠quelo por cualquier valor si es necesario.
      La nueva funci√≥n puede usarse posteriormente para crear otras funciones. Las funciones dependientes de la funci√≥n
      editada se listan en la parte inferior de la ventana. Es importante recordar que cambiar la definici√≥n de la funci√≥n afectar√°
      a todas las funciones dependientes.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_133331_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">


    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:14px 0 10px;"><b>10.4.5. Par√°metros avanzados</b></p>

    <p>
      Esta ventana muestra la lista de todos los par√°metros disponibles del programa de calificaci√≥n editado.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_133414_127.0.0.1.jpeg" alt="Pruebas de salida del sistema" class="img-figure sm">

  </div>
</div>

<!-- ===================== -->
<!-- 11. FRUTA RECIENTE -->
<!-- ===================== -->
<div class="figure" id="fruta-reciente">
  <div class="figure-h">
    <h3>11. Fruta reciente</h3>
    <div class="hint">Previsualizaci√≥n de fruta recientemente clasificada</div>
  </div>

  <div class="figure-b">

    <p>
      En esta ventana, el operador puede previsualizar la fruta recientemente clasificada. La fruta puede cargarse
      directamente desde el carril (unidad de visi√≥n) o desde el archivo exportado (.vgexp).
    </p>

    <p>
      En la secci√≥n uno (1), seleccione el programa de clasificaci√≥n que se utilizar√° para calcular las caracter√≠sticas
      (pesta√±a 5 Programa seleccionado) y genere una vista previa (6). Utilice los controles de la secci√≥n dos (2) para
      cargar la fruta clasificada. El bot√≥n Cargar recupera los √∫ltimos N elementos del carril seleccionado. Solo se puede
      cargar la fruta de una clase seleccionada. Cambie el n√∫mero de elementos cargados editando el valor de Resultados.
    </p>

    <p>
      La carga autom√°tica permite al operador cargar peri√≥dicamente fruta del carril seleccionado. Carga las √∫ltimas N
      im√°genes cada 5 segundos. Si se clasificaron menos de N frutas nuevas en los √∫ltimos 5 segundos, no se volver√° a
      cargar la misma fruta. La fruta cargada se muestra a la izquierda (3).
    </p>

    <p style="margin:14px 0 10px;"><b>La secci√≥n de caracter√≠sticas (5) contiene dos pesta√±as:</b></p>

    <ul style="margin:0 0 12px; padding-left:18px;">
      <li>
        <b>Programa seleccionado:</b> muestra los valores de las caracter√≠sticas calculados por el programa de
        clasificaci√≥n seleccionado (1) y permite obtener una vista previa de las caracter√≠sticas (6).
      </li>
      <li>
        <b>Calificado:</b> muestra los valores de las caracter√≠sticas calculados por el programa de calificaci√≥n que ha sido
        utilizado por la Unidad de Visi√≥n para calificar la fruta dada.
      </li>
    </ul>

    <p>
      Seleccione la fruta para ver sus im√°genes (4) y valores de caracter√≠sticas (5). Haga clic en la imagen (4) para ver
      su vista previa en la secci√≥n de vista previa (6). Por defecto, solo se muestran las caracter√≠sticas seleccionadas
      del programa de clasificaci√≥n seleccionado en la lista de caracter√≠sticas (5). Marque la opci√≥n
      <b>"Mostrar todas las caracter√≠sticas"</b> para verlas todas.
    </p>

    <p>
      Haga clic en el icono del ojo junto a la funci√≥n para mostrar su visualizaci√≥n en la secci√≥n de vista previa (6).
      Esto solo est√° disponible en la pesta√±a <b>"Programa seleccionado"</b>. Si es posible, la imagen cambiar√°
      autom√°ticamente a la que representa la caracter√≠stica anotada (funciona con caracter√≠sticas m√≠nimas y m√°ximas,
      no con caracter√≠sticas de tipo promedio). Vaya a la pesta√±a <b>"Im√°genes"</b> en la secci√≥n 5 para ver los valores
      de las caracter√≠sticas de cada imagen.
    </p>

    <p>
      La l√≠nea verde bajo las im√°genes de la secci√≥n 4 indica que se ha detectado la fruta. Hay dos l√≠neas que indican la
      detecci√≥n de la fruta por el programa seleccionado (la l√≠nea superior, verde claro) y el programa utilizado por la
      Unidad de Visi√≥n para clasificar la fruta (la l√≠nea inferior, verde oscuro).
    </p>

    <p>
      Las l√≠neas verdes pueden volverse rojas, lo que significa que no se detecta ninguna fruta en la imagen dada.
      La l√≠nea roja tambi√©n puede indicar que se detectaron varias frutas o que la fruta no se reconoci√≥ debido a otros
      factores. El color naranja indica que se ha detectado un cuerpo fruct√≠fero, pero no se considera una fruta v√°lida.
      Esto puede ocurrir si la divisi√≥n de cuerpos fruct√≠feros est√° desactivada (mediante el par√°metro avanzado del
      programa de clasificaci√≥n).
    </p>

    <p>
      En este caso, algunos pares pueden considerarse un solo cuerpo (cuerpo v√°lido), pero no una fruta v√°lida. Esto
      permite al operador clasificar dichos pares por color (espectro), mientras que otras caracter√≠sticas (como tama√±o,
      peso, cavidades, etc.) no est√°n disponibles.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_134014_127.0.0.1.jpeg"
         alt="Pruebas de salida del sistema"
         class="img-figure sm">

    <p>
      La pesta√±a Im√°genes de la secci√≥n 5 permite al operador previsualizar instant√°neamente las anotaciones de
      caracter√≠sticas (solo en la pesta√±a Programa seleccionado). Haga clic en la celda de la tabla para seleccionar
      autom√°ticamente la imagen relacionada en la secci√≥n 4 y (si est√° disponible) mostrar la anotaci√≥n en la secci√≥n 6.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_13419_127.0.0.1.jpeg"
         alt="Pruebas de salida del sistema"
         class="img-figure sm">

  </div>
</div>

<!-- ===================== -->
<!-- 12. AN√ÅLISIS DE DATOS -->
<!-- ===================== -->
<div class="figure" id="analisis-datos">
  <div class="figure-h">
    <h3>12. An√°lisis de datos</h3>
    <div class="hint">Estad√≠sticas y comparaci√≥n de caracter√≠sticas</div>
  </div>

  <div class="figure-b">

    <p style="margin:0 0 10px;"><b>12.1. General</b></p>

    <p>
      El an√°lisis general de datos permite al operador analizar las caracter√≠sticas de grandes cantidades de fruta.
      Algunas de las estad√≠sticas posibles son: promedio, m√≠nimo, m√°ximo, mediana y cuantiles. Por defecto, solo se
      analizan las caracter√≠sticas utilizadas en el programa de clasificaci√≥n actual. Utilice "A√±adir caracter√≠sticas"
      para ver las estad√≠sticas de otras caracter√≠sticas.
    </p>

    <p>
      La tabla superior muestra la lista de elementos cargados y filtrados. A√±ada filtros seleccionando la clase,
      la salida o una caracter√≠stica y su rango deseado (haga clic para a√±adir un filtro de caracter√≠sticas). Aplique
      filtros para actualizar la lista de elementos clasificados y las estad√≠sticas en la tabla inferior.
    </p>

    <p>
      Solo se tienen en cuenta los elementos con un n√∫mero de im√°genes utilizadas mayor que cero al calcular las
      estad√≠sticas. El bot√≥n de Excel exporta la lista de elementos a un archivo de Excel.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_183721_127.0.0.1.jpeg"
         alt="Pruebas de salida del sistema"
         class="img-figure sm">

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:0 0 10px;"><b>12.2. Valores promedio</b></p>

    <p>
      Los valores promedio permiten al operador comparar f√°cilmente los valores de las caracter√≠sticas promedio entre
      los carriles. Las irregularidades pueden indicar problemas de hardware, como luz o polarizaci√≥n incorrecta de la
      c√°mara, iluminaci√≥n deficiente o problemas de singularizaci√≥n.
    </p>

    <p>
      Los promedios se basan en los art√≠culos con un n√∫mero de im√°genes utilizadas mayor que cero (excepto
      "M√∫ltiples frutas", que considera todos los art√≠culos).
    </p>

  </div>
</div>

<!-- ===================== -->
<!-- 13. DESCRIPCI√ìN GENERAL -->
<!-- ===================== -->
<div class="figure" id="descripcion-general">
  <div class="figure-h">
    <h3>13. Descripci√≥n general</h3>
    <div class="hint">Gr√°ficos y m√©tricas principales de calificaci√≥n</div>
  </div>

  <div class="figure-b">

    <p>
      La pantalla de descripci√≥n general consta de varios gr√°ficos que representan las m√©tricas de
      calificaci√≥n m√°s importantes.
    </p>

    <ul style="padding-left:18px; margin:0 0 14px;">
      <li>
        <b>Llenado de vasos:</b> el primer gr√°fico muestra el promedio de llenado de vasos de todos los
        carriles durante las √∫ltimas ocho horas. El gr√°fico de barras muestra el llenado actual de
        vasos de cada carril. Este llenado se actualiza aproximadamente cada 10 segundos.
      </li>

      <li>
        <b>Velocidad de carril:</b> muestra la velocidad actual del carril en tazas por segundo.
        Si el valor parece inexacto, revise los par√°metros
        <b>lane_cupsPerEncoderRevolution</b> y
        <b>lane_pulsesPerEncoderRevolution</b> en
        <b>Configuraci√≥n del sistema &gt; Ajustes globales</b>.
      </li>

      <li>
        <b>Promedio de llenado de vasos:</b> muestra el promedio actual de llenado de vasos de todos
        los carriles. Se actualiza cada 2 segundos y se basa en el llenado actual de cada carril
        (actualizado cada ~10 s).
      </li>

      <li>
        <b>Sin clasificar:</b> muestra el porcentaje actual de fruta sin clasificar. Un valor superior
        al 0 % indica que el programa de clasificaci√≥n actual no est√° configurado correctamente.
      </li>

      <li>
        <b>Sin procesar:</b> muestra el porcentaje de fruta no procesada debido a una potencia de
        procesamiento insuficiente. Esto puede ocurrir si el programa de clasificaci√≥n es demasiado
        complejo. Intente eliminar algunos espectros del programa actual o limite el n√∫mero de
        im√°genes utilizadas en el perfil.
      </li>

      <li>
        <b>Peso promedio de la fruta:</b> muestra el peso promedio de la fruta de los √∫ltimos ~10 segundos,
        basado en el peso estimado o el peso real si la clasificaci√≥n por peso est√° habilitada.
      </li>

      <li>
        <b>Recuento diario:</b> muestra la cantidad de elementos calificados en el d√≠a actual.
      </li>
    </ul>

    <p>
      <b>Distribuci√≥n:</b> el primer gr√°fico muestra la distribuci√≥n actual de la fruta entre todas las
      clases. El segundo gr√°fico muestra la distribuci√≥n de la fruta en la √∫ltima hora. Los gr√°ficos
      se actualizan aproximadamente una vez por minuto.
    </p>

    <p>
      Ambos gr√°ficos pueden mostrar la distribuci√≥n por clase o por grupo (marque o desmarque la
      casilla <b>"por grupo"</b>).
    </p>

    <p>
      El per√≠odo de tiempo del gr√°fico de distribuci√≥n actual se puede ajustar seleccionando uno de
      los valores predefinidos. Tambi√©n se puede forzar que el gr√°fico solo incluya estad√≠sticas
      tomadas despu√©s de un tiempo determinado.
    </p>

    <p>
      Haga clic en el icono <b>"Restablecer ahora"</b> (icono del reloj) para establecer la restricci√≥n
      de tiempo a la hora actual. La restricci√≥n se puede eliminar haciendo clic en el icono de la
      papelera.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_184010_127.0.0.1.jpeg"
         alt="Gr√°ficos de distribuci√≥n de fruta"
         class="img-figure sm">
    
    <p>
      El gr√°fico de distribuci√≥n de la √∫ltima hora se puede ajustar para mostrar solo las
      clases/grupos seleccionados. Haga clic en <b>Configuraci√≥n</b> para seleccionar clases/grupos
      y asignar colores.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_183832_127.0.0.1.jpeg"
         alt="Gr√°ficos de distribuci√≥n de fruta"
         class="img-figure ss">

    <p style="margin-top:14px;">
      <b>Desperdicio:</b> muestra la proporci√≥n actual de desperdicio/no desperdicio. Esta se basa en
      la salida por la que se expuls√≥ la fruta. Vaya a
      <b>Configuraci√≥n &gt; Salidas</b> para configurar qu√© salidas se considerar√°n desperdicio.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_183926_127.0.0.1.jpeg"
         alt="Indicador de desperdicio"
         class="img-figure sm">

  </div>
</div>

<!-- ===================== -->
<!-- 14. GRUPOS DE CLASE -->
<!-- ===================== -->
<div class="figure" id="grupos-clase">
  <div class="figure-h">
    <h3>14. Grupos de clase</h3>
    <div class="hint">Organizaci√≥n de clases para informes y estad√≠sticas</div>
  </div>

  <div class="figure-b">

    <p>
      Los grupos se utilizan para generar informes (ver Estad√≠sticas). Abra el editor de grupos de
      clase desde el men√∫ de la izquierda para agregar, editar, eliminar y cambiar el orden de los
      grupos creados.
    </p>

    <p>
      Haga clic en la columna <b>Nombre</b> para cambiar el nombre del grupo. Es importante tener en
      cuenta que al eliminar un grupo, se eliminan autom√°ticamente todas las tareas de clase
      vinculadas.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_184123_127.0.0.1.jpeg"
         alt="Editor de grupos de clase"
         class="img-figure ss">

  </div>
</div>

<!-- ===================== -->
<!-- 15. ESTAD√çSTICAS -->
<!-- ===================== -->
<div class="figure" id="estadisticas">
  <div class="figure-h">
    <h3>15. Estad√≠sticas</h3>
    <div class="hint">Hist√≥rico de cantidades, peso y distribuci√≥n</div>
  </div>

  <div class="figure-b">

    <p>
      GP Vision Grader guarda la cantidad y el peso estimado/medido de la fruta clasificada en cada
      clase/grupo una vez por minuto. Los datos hist√≥ricos se pueden visualizar en el m√≥dulo de
      estad√≠sticas. Seleccione el per√≠odo deseado y cargue los datos. Gu√°rdelos como un nuevo lote
      para poder acceder f√°cilmente a las estad√≠sticas en el futuro.
    </p>

    <p>
      El peso significa peso estimado o medido, dependiendo de si el m√≥dulo de clasificaci√≥n por peso
      est√° habilitado o no.
    </p>

    <p>
      Los grupos se pueden administrar en el editor de grupos de clases y luego asignarlos a clases
      en la tabla de calificaciones. Eliminar un lote no elimina los datos subyacentes.
    </p>

    <p>
      Aunque los datos se guardan en la base de datos cada minuto, es posible que las cantidades no
      representen las cantidades reales clasificadas en un minuto determinado. Esto se debe a
      limitaciones de almacenamiento y al mecanismo de agregaci√≥n de datos, que pueden provocar una
      variaci√≥n en las cantidades reportadas entre unidades de tiempo adyacentes (minutos).
      No obstante, la cantidad total de fruta clasificada en un per√≠odo m√°s largo representa las
      cantidades reales.
    </p>

    <p>
      El gr√°fico de barras muestra la distribuci√≥n en porcentaje (%) por clase o grupo, en funci√≥n
      de las cantidades o el peso. Algunas clases pueden no tener un peso estimado, ya que la fruta
      no se puede procesar para estas clases. Un buen ejemplo de dicha clase ser√≠a <b>Pair</b>.
    </p>

    <p>
      El gr√°fico circular de la derecha muestra la distribuci√≥n entre fruta y desperdicio seg√∫n el
      peso o la cantidad y la configuraci√≥n de salida. Vaya a
      <b>Configuraci√≥n del sistema &gt; Salidas</b> para definir qu√© salidas se consideran como residuo.
    </p>

    <p>
      La columna de secuencia de la tabla que muestra la lista de grupos se basa en el n√∫mero de
      secuencia definido en el editor de grupos de clases. Un n√∫mero de secuencia vac√≠o significa que
      el grupo no existe (se ha eliminado) o que la clase nunca se asign√≥ a un grupo.
    </p>

    <p>
      En ese caso, las cantidades/pesos se asignan a una clase integrada llamada <b>"Otro"</b>,
      lo cual tambi√©n se indica mediante el signo de advertencia junto al nombre del grupo.
    </p>

    <p>
      El peso estimado se basa en el volumen y la densidad estimados de la fruta. La densidad se puede
      ajustar para cada programa de clasificaci√≥n en
      <b>Par√°metros avanzados &gt; Gramos por cm c√∫bico</b>.
    </p>

    <p>
      Los datos se pueden exportar como informe PDF o archivo Excel. Haga clic en el icono de
      engranaje junto al bot√≥n PDF para configurar el contenido del informe PDF.
    </p>

    <p>
      El bot√≥n desplegable de per√≠odo de tiempo permite seleccionar uno de los intervalos de tiempo
      predefinidos. Los datos deben recargarse manualmente despu√©s de cambiar el per√≠odo de tiempo
      seleccionado.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_18428_127.0.0.1.jpeg"
         alt="M√≥dulo de estad√≠sticas - vista general"
         class="img-figure s">

    <img src="Imagenes/Captura de pantalla_26-12-2025_184244_127.0.0.1.jpeg"
         alt="Gr√°fico de barras de distribuci√≥n"
         class="img-figure sm">

    <img src="Imagenes/Captura de pantalla_26-12-2025_18437_127.0.0.1.jpeg"
         alt="Gr√°fico circular fruta vs desperdicio"
         class="img-figure sm">

  </div>
</div>

<!-- ===================== -->
<!-- 16. REGISTROS -->
<!-- ===================== -->
<div class="figure" id="registros">
  <div class="figure-h">
    <h3>16. Registros</h3>
    <div class="hint">Registros de carriles y de la PC del operador</div>
  </div>

  <div class="figure-b">

    <p>
      Hay dos tipos de registros en GP Vision Grader:
    </p>

    <p><b>Registros de carriles</b></p>

    <p>
      Los registros de carriles se generan a partir de los carriles y no se guardan en la base de
      datos ni en el disco duro. Estos registros est√°n disponibles mientras la unidad de visi√≥n
      est√© activada.
    </p>

    <p>
      Utilice <b>"Cargar"</b> para cargar los registros de todos los carriles en el per√≠odo indicado.
      Utilice las opciones de filtrado de la izquierda para filtrar por nivel de registro o carril.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_185634_127.0.0.1.jpeg"
         alt="Registros de carriles"
         class="img-figure lg">

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p><b>Registros de la PC del operador</b></p>

    <p>
      GP Vision Grader guarda los registros en un archivo de texto en el directorio de datos del
      programa. Los registros actuales (desde el √∫ltimo reinicio del programa) tambi√©n se pueden
      ver en la pesta√±a <b>Registros &gt; PC del operador</b>.
    </p>

    <p>
      Utilice las opciones de filtrado para filtrar por nivel de registro o tiempo (no es necesario
      recargar). Utilice <b>"Recargar"</b> para cargar los registros m√°s recientes.
    </p>

    <p>
      Seleccione la entrada del registro para ver los detalles.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_18592_127.0.0.1.jpeg"
         alt="Registros de la PC del operador"
         class="img-figure lg">

  </div>
</div>

<!-- ===================== -->
<!-- 17. CONFIGURACI√ìN DE LA APLICACI√ìN -->
<!-- ===================== -->
<div class="figure" id="configuracion-aplicacion">
  <div class="figure-h">
    <h3>17. Configuraci√≥n de la aplicaci√≥n</h3>
    <div class="hint">Opciones generales, rendimiento, red, depuraci√≥n y API</div>
  </div>

  <div class="figure-b">

    <p>
      La configuraci√≥n de la aplicaci√≥n se puede acceder desde el men√∫ principal. Todas las opciones,
      excepto la de idioma, solo se pueden editar en el modo Administrador. Aqu√≠ se muestra la lista
      de opciones y su significado:
    </p>

    <ul style="margin:0; padding-left:18px;">
      <li style="margin:6px 0;"><b>Idioma:</b> el idioma de la interfaz de usuario de la aplicaci√≥n.</li>
      <li style="margin:6px 0;"><b>Unidad de peso:</b> la unidad de peso utilizada en las estad√≠sticas y en el indicador de rendimiento.</li>
      <li style="margin:6px 0;">
        <b>Rendimiento m√°ximo:</b> el rendimiento m√°ximo estimado; este valor se utiliza solo para configurar
        la escala del indicador de rendimiento.
      </li>
      <li style="margin:6px 0;">
        <b>Velocidad m√°xima del carril [tazas/s]:</b> velocidad m√°xima del carril del indicador de velocidad del carril.
      </li>
      <li style="margin:6px 0;">
        <b>Virtualizaci√≥n de filas de la tabla de calificaci√≥n:</b> mejora los tiempos de carga y actualizaci√≥n de la
        tabla de calificaci√≥n al representar solo las filas visibles. Las filas que no se ven se representan al
        desplazarse el usuario hacia arriba o hacia abajo. Esto puede causar vibraciones al desplazarse.
      </li>
      <li style="margin:6px 0;">
        <b>Virtualizaci√≥n de columnas de la tabla de calificaci√≥n:</b> mejora los tiempos de carga y actualizaci√≥n de la
        tabla de calificaci√≥n al representar solo las columnas visibles. Las columnas que no se ven se representan
        al desplazarse el usuario a la izquierda o a la derecha. Esto puede causar vibraciones al desplazarse.
      </li>
      <li style="margin:6px 0;">
        <b>Usar fruta reciente en formato binario:</b> habilita el formato binario para transferir im√°genes recientes
        de fruta desde la Unidad de Visi√≥n a la estaci√≥n del operador. El formato binario se comprime mucho m√°s r√°pido,
        pero genera un volumen de datos ligeramente mayor. Debe estar habilitado por defecto. En general, el formato
        binario es mucho m√°s r√°pido y solo debe desactivarse si experimenta problemas de transferencia de datos
        (red lenta, etc.).
      </li>
      <li style="margin:6px 0;"><b>Intervalo de cuadros [ms]:</b> este es el intervalo entre cuadros en la vista previa de la c√°mara en vivo.</li>
      <li style="margin:6px 0;"><b>Tiempo de espera de conexi√≥n [ms]:</b> durante cu√°nto tiempo el GP Vision Grader intenta conectarse a la unidad Vision.</li>
      <li style="margin:6px 0;">
        <b>Tiempo de espera del temporizador de sondeo [ms]:</b> este es el intervalo entre actualizaciones del estado
        de la conexi√≥n. Si el host remoto (unidad de visi√≥n) cierra la conexi√≥n, la aplicaci√≥n lo detectar√° despu√©s
        de un tiempo determinado o antes.
      </li>
      <li style="margin:6px 0;">
        <b>Tiempo de espera del comando [ms]:</b> cu√°nto tiempo espera el GP Vision Grader el resultado del comando
        de la Unidad de Visi√≥n.
      </li>
      <li style="margin:6px 0;">
        <b>Puerto maestro de distribuci√≥n de salida:</b> define el n√∫mero de puerto que utiliza el carril maestro de
        distribuci√≥n de salida para fines de comunicaci√≥n cuando se utiliza el modo global de distribuci√≥n de salida.
      </li>
      <li style="margin:6px 0;">
        <b>Modo de depuraci√≥n:</b> activa o desactiva el modo de depuraci√≥n, en el que se guarda m√°s informaci√≥n en
        los archivos de registro de la aplicaci√≥n o se informa al usuario. Este modo no debe usarse con frecuencia,
        ya que puede afectar negativamente al rendimiento de la aplicaci√≥n.
      </li>
    </ul>

    <p style="margin:14px 0 6px;"><b>API</b></p>

    <ul style="margin:0; padding-left:18px;">
      <li style="margin:6px 0;">
        <b>API:</b> activa o desactiva la API local. Consulte la secci√≥n API local y la documentaci√≥n de la API para obtener
        m√°s informaci√≥n sobre la lista de funciones disponibles a trav√©s de API.
      </li>
      <li style="margin:6px 0;"><b>Puerto:</b> puerto utilizado por el servidor API.</li>
      <li style="margin:6px 0;">
        <b>Acceso remoto:</b> habilita o deshabilita el acceso a trav√©s de direcciones distintas a localhost/127.0.0.1.
      </li>
      <li style="margin:6px 0;">
        <b>Lista segura de IP:</b> lista de direcciones permitidas para conectarse a API, IPv4 o IPv6; use 127.0.0.1 para host local.
      </li>
      <li style="margin:6px 0;">
        <b>Actualizaciones del programa de calificaci√≥n de API:</b> habilita o deshabilita globalmente las modificaciones del programa a trav√©s
        de API; debe habilitarse para mostrar el interruptor de alternancia <b>"Actualizaciones de API"</b> sobre la tabla de calificaci√≥n y permitir
        que el operador habilite actualizaciones a trav√©s de la API para programas individuales.
      </li>
    </ul>

    <img src="Imagenes/Captura de pantalla_26-12-2025_185950_127.0.0.1.jpeg"
         alt="Configuraci√≥n de la aplicaci√≥n y par√°metros de API"
         class="img-figure s">

  </div>
</div>

<!-- ===================== -->
<!-- 18. API LOCAL -->
<!-- ===================== -->
<div class="figure" id="api-local">
  <div class="figure-h">
    <h3>18. API local</h3>
    <div class="hint">Integraci√≥n con software de terceros y acceso remoto</div>
  </div>

  <div class="figure-b">

    <p>
      La API local proporciona un conjunto de funciones que permiten que software de terceros
      interact√∫e con GP Vision Grader. Se dise√±√≥ principalmente para facilitar el acceso remoto a
      estad√≠sticas e informes, as√≠ como para realizar modificaciones b√°sicas del programa de
      calificaci√≥n.
    </p>

    <p>
      Consulte la documentaci√≥n de la API local para obtener m√°s informaci√≥n sobre las funciones
      disponibles a trav√©s de la API.
    </p>

    <p>
      Configurar la API local puede requerir una configuraci√≥n de red avanzada de Windows. A
      continuaci√≥n se muestra un conjunto de comandos de Windows √∫tiles para ello:
    </p>

    <pre><code>// mostrar lista de entradas ACL de URL actuales
netsh http mostrar urlacl

// a√±adir entrada ACL de URL
netsh http agregar urlacl url=http://+:9000/ usuario=wszyscy
netsh http agregar urlacl url=http://127.0.0.1:9000/ usuario=wszyscy

// eliminar la entrada ACL de la URL
netsh http eliminar urlacl http://127.0.0.1:9000/

// mostrar entradas de iplisten
netsh http mostrar iplisten

// a√±adir direcci√≥n iplisten
netsh http add iplisten 127.0.0.1 // agregar para habilitar el acceso a la API del host local
</code></pre>

    <p>
      Agregue entradas ACL de URL para el host local o para todos los hosts (use "+") para habilitar
      el acceso a la API local a trav√©s de la direcci√≥n IP y el puerto seleccionados. Agregue la
      entrada <b>iplisten</b> correspondiente.
    </p>

    <p>
      Al habilitar la API en la configuraci√≥n de la aplicaci√≥n, la pesta√±a de control del estado del
      sistema deber√≠a mostrar un estado de API en verde. Busque errores en los registros del PC del
      operador si el servicio API no se inicia correctamente.
    </p>

    <p>
      Los errores de acceso denegado probablemente se deban a una configuraci√≥n incorrecta de
      <b>urlacl</b> o <b>iplisten</b>. Aseg√∫rese de que el puerto del firewall de Windows est√© abierto
      para la comunicaci√≥n TCP. Agregue una regla de puerto de firewall en lugar de una regla de
      aplicaci√≥n.
    </p>

  </div>
</div>

<!-- ===================== -->
<!-- 19. COPIAS DE SEGURIDAD -->
<!-- ===================== -->
<div class="figure" id="copias-seguridad">
  <div class="figure-h">
    <h3>19. Copias de seguridad</h3>
    <div class="hint">Respaldo de base de datos y protecci√≥n de datos</div>
  </div>

  <div class="figure-b">

    <p>
      GP Vision Grader almacena casi toda la configuraci√≥n y los datos en la base de datos de
      MS SQL Server. Las herramientas de copia de seguridad de MS SQL Server y el Programador
      de tareas de Windows permiten configurar las copias de seguridad.
    </p>

    <p>
      A continuaci√≥n se muestra un ejemplo de un script de copia de seguridad de SQL y un comando
      de Windows que se puede utilizar para guardar peri√≥dicamente la copia de seguridad en un
      directorio personalizado:
    </p>

    <pre><code>// script de copia de seguridad MSSQL: schedule.sql
DECLARE @pathName NVARCHAR(512)
SET @pathName = 'C:\Backup\db_backup_' + CONVERT(varchar(8), GETDATE(), 112) + '.bak'

BACKUP DATABASE [MyDataBase]
TO DISK = @pathName
WITH NOFORMAT, NOINIT, NAME = N'db_backup',
     SKIP, NOREWIND, NOUNLOAD, STATS = 10
</code></pre>

    <pre><code>// script de copia de seguridad del Programador de tareas de Windows
sqlcmd -S NOMBREDESERVIDOR -U Nombredeusuario -P Contrase√±a -i schedule.sql
</code></pre>

    <p>
      Para una mejor protecci√≥n contra la p√©rdida de datos, la copia de seguridad debe guardarse
      en una ubicaci√≥n remota (una carpeta compartida, por ejemplo) y no debe almacenarse en la
      misma computadora que la base de datos.
    </p>

    <p style="margin:14px 0 6px;"><b>Copia de seguridad manual</b></p>

    <p>
      Utilice SQL Server Management Studio para realizar copias de seguridad manualmente.
      Con√©ctese al servidor, seleccione la base de datos y haga clic derecho en
      <b>Tareas &gt; Copia de seguridad‚Ä¶</b>
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_19030_127.0.0.1.jpeg"
         alt="Copia de seguridad manual en SQL Server Management Studio"
         class="img-figure ss">

    <p>
      Utilice las opciones predeterminadas; opcionalmente cambie o agregue el archivo de destino:
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_19130_127.0.0.1.jpeg"
         alt="Opciones de copia de seguridad en SQL Server"
         class="img-figure sm">

  </div>
</div>

<!-- ===================== -->
<!-- 20. ACERCA DE -->
<!-- ===================== -->
<div class="figure" id="acerca-de">
  <div class="figure-h">
    <h3>20. Acerca de</h3>
    <div class="hint">Informaci√≥n de la aplicaci√≥n y licencias</div>
  </div>

  <div class="figure-b">

    <p>
      La ventana <b>"Acerca de"</b> se puede abrir haciendo clic en el bot√≥n <b>"Acerca de"</b> en la
      barra de t√≠tulo de la ventana principal de la aplicaci√≥n o en el bot√≥n <b>"Acerca de"</b> del
      men√∫ principal.
    </p>

    <p>
      Esta ventana permite al operador abrir el Administrador de licencias o ver el archivo
      <b>Notice.txt</b>, que contiene avisos de software de terceros y t√©rminos y condiciones de los
      componentes de software de terceros con licencia utilizados por GP Vision Grader.
    </p>

    <img src="Imagenes/Captura de pantalla_26-12-2025_1920_127.0.0.1.jpeg"
         alt="Ventana Acerca de y administrador de licencias"
         class="img-figure s">

  </div>
</div>

<!-- ===================== -->
<!-- 21. SOLUCI√ìN DE PROBLEMAS -->
<!-- ===================== -->
<div class="figure" id="solucion-problemas">
  <div class="figure-h">
    <h3>21. Soluci√≥n de problemas</h3>
    <div class="hint">Registros, errores comunes y novedades de versi√≥n</div>
  </div>

  <div class="figure-b">

    <p style="margin:0 0 10px;"><b>¬øD√≥nde se puede encontrar el registro de errores del software del operador GP Vision Grader?</b></p>

    <p>
      Los registros actuales de GP Vision Grader se almacenan en un archivo de texto:
    </p>

    <pre><code>C:\ProgramData\GP Graders\GP Vision Grader\logs.txt</code></pre>

    <p>
      Los archivos de registro m√°s antiguos guardados como <b>*.txt.gz</b> se pueden encontrar en el
      mismo directorio.
    </p>

    <p>
      Algunas acciones desconectan la unidad de visi√≥n, que luego se vuelve a conectar despu√©s de
      un tiempo. Lo m√°s probable es que la acci√≥n intente ejecutar un comando que requiera el env√≠o
      de una gran cantidad de datos a trav√©s de la red o que requiera un uso intensivo de recursos.
    </p>

    <p>
      Ambos factores pueden provocar que la ejecuci√≥n del comando supere el tiempo de espera
      establecido. Aumente el valor de <b>"Tiempo de espera del comando"</b> en la configuraci√≥n de
      la aplicaci√≥n.
    </p>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,.10); margin:18px 0;">

    <p style="margin:0 0 10px;"><b>¬øQu√© hay de nuevo? (en comparaci√≥n con la versi√≥n 2.20.0)</b></p>

    <ul style="padding-left:18px; margin:0;">
      <li>
        <b>4 ‚Äì Interfaz de usuario ‚Äì Controles comunes ‚Äì Selector de frutas:</b>
        Portapapeles para almacenar m√∫ltiples elementos.
      </li>
      <li>
        <b>8.3 ‚Äì Configuraci√≥n global:</b> se agregaron ajustes de tama√±o.
      </li>
      <li>
        <b>8.6 ‚Äì Calibraci√≥n de tama√±o:</b> la cantidad de bolas de calibraci√≥n depende de que el
        ajuste de tama√±o est√© habilitado o deshabilitado.
      </li>
      <li>
        <b>10.1 ‚Äì Tabla de clasificaci√≥n:</b> cambios en la distribuci√≥n.
      </li>
      <li>
        <b>10.3 ‚Äì Administrar funciones:</b> arrastrar y soltar habilitado.
      </li>
      <li>
        <b>10.4.1 ‚Äì Programas de clasificaci√≥n ‚Äì Editar programa ‚Äì Detecci√≥n de frutas:</b>
        importaci√≥n/exportaci√≥n y separaci√≥n de fondo de dos umbrales (algoritmo de ostras).
      </li>
      <li>
        <b>10.4.2 ‚Äì Calificaci√≥n de programas ‚Äì Editar programa ‚Äì Espectros:</b>
        importar/exportar.
      </li>
      <li>
        <b>12.1 ‚Äì An√°lisis de datos ‚Äì General:</b> se agreg√≥ exportaci√≥n a Excel.
      </li>
      <li>
        <b>10.1 ‚Äì Programas de calificaci√≥n ‚Äì Tabla de calificaci√≥n:</b>
        se a√±adi√≥ <b>Agregar</b> al men√∫ contextual para insertar la nueva clase directamente debajo
        de la clase seleccionada.
      </li>
      <li>
        <b>15 ‚Äì Estad√≠sticas:</b> se agreg√≥ un bot√≥n desplegable de intervalo de tiempo.
      </li>
    </ul>

  </div>
</div>

<!-- MODAL IM√ÅGENES -->
<div id="imgModal" class="img-modal" aria-hidden="true">
  <div class="img-modal-backdrop" data-close="1"></div>

  <div class="img-modal-box" role="dialog" aria-modal="true" aria-label="Vista ampliada">
    <button class="img-modal-close" type="button" aria-label="Cerrar" data-close="1">‚úï</button>
    <img id="imgModalTarget" alt="" />
  </div>
</div>

</main>
<footer>
  gpVision‚Ñ¢ ¬∑ Manual t√©cnico ¬∑ Uso interno
</footer>

<script>
  // ====== BUSCADOR + AUTOCOMPLETE ======
  const searchInput = document.getElementById("searchInput");
  const suggestList = document.getElementById("suggestList");
  const searchBtn = document.getElementById("searchBtn");
  const clearBtn = document.getElementById("clearSearchBtn");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const meta = document.getElementById("searchMeta");

  let hits = [];
  let activeIndex = -1;

  // Autocomplete index
  let indexItems = []; // { id, text, el }
  let suggestActive = -1;
  const MAX_SUGGEST = 8;

  const SKIP_TAGS = new Set(["SCRIPT","STYLE","INPUT","TEXTAREA","BUTTON","IFRAME","MARK"]);

  function escapeRegExp(str){
    return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  }

  function clearMarks(){
    document.querySelectorAll("mark.gp-hit").forEach(m => {
      const t = document.createTextNode(m.textContent);
      m.replaceWith(t);
    });
    hits = [];
    activeIndex = -1;
  }

  function setActive(idx){
    if(!hits.length) return;
    hits.forEach(h => h.classList.remove("active"));
    activeIndex = (idx + hits.length) % hits.length;
    hits[activeIndex].classList.add("active");
    hits[activeIndex].scrollIntoView({ behavior:"smooth", block:"center" });
    meta.textContent = `Coincidencias: ${hits.length} ¬∑ Mostrando ${activeIndex + 1}/${hits.length}`;
  }

  function highlight(term){
    clearMarks();
    if(!term) {
      meta.textContent = "Sin b√∫squeda activa.";
      return;
    }

    const root = document.querySelector("main");
    const rx = new RegExp(escapeRegExp(term), "gi");

    const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, {
      acceptNode(node){
        if(!node.nodeValue || !node.nodeValue.trim()) return NodeFilter.FILTER_REJECT;
        const p = node.parentElement;
        if(!p) return NodeFilter.FILTER_REJECT;
        if(SKIP_TAGS.has(p.tagName)) return NodeFilter.FILTER_REJECT;
        return NodeFilter.FILTER_ACCEPT;
      }
    });

    const nodes = [];
    while(walker.nextNode()) nodes.push(walker.currentNode);

    nodes.forEach(node => {
      const txt = node.nodeValue;
      if(!rx.test(txt)) return;

      rx.lastIndex = 0;
      const frag = document.createDocumentFragment();
      let last = 0;
      let m;

      while((m = rx.exec(txt)) !== null){
        const start = m.index;
        const end = start + m[0].length;

        if(start > last) frag.appendChild(document.createTextNode(txt.slice(last, start)));

        const mark = document.createElement("mark");
        mark.className = "gp-hit";
        mark.textContent = txt.slice(start, end);
        frag.appendChild(mark);

        last = end;
      }

      if(last < txt.length) frag.appendChild(document.createTextNode(txt.slice(last)));
      node.parentNode.replaceChild(frag, node);
    });

    hits = Array.from(document.querySelectorAll("mark.gp-hit"));
    if(hits.length){
      setActive(0);
    }else{
      meta.textContent = "No se encontraron coincidencias.";
    }
  }

  // ====== AUTOCOMPLETE: construir √≠ndice del manual ======
  function buildIndex(){
    const root = document.querySelector("main");
    indexItems = [];

    root.querySelectorAll("h1,h2,h3,h4").forEach((el, i) => {
      const t = (el.innerText || "").trim();
      if(t.length >= 3) indexItems.push({ id: `h-${i}`, text: t, el });
    });

    root.querySelectorAll("li").forEach((el, i) => {
      const t = (el.innerText || "").trim();
      if(t.length >= 12) indexItems.push({ id: `li-${i}`, text: t.slice(0, 220), el });
    });

    root.querySelectorAll(".figure-b p").forEach((el, i) => {
      const t = (el.innerText || "").trim();
      if(t.length >= 18) indexItems.push({ id: `p-${i}`, text: t.slice(0, 220), el });
    });
  }

  function norm(s){
    return (s || "")
      .toLowerCase()
      .normalize("NFD").replace(/[\u0300-\u036f]/g,"");
  }

  function scoreMatch(query, text){
    const q = norm(query);
    const t = norm(text);
    if(!q) return -1;
    const idx = t.indexOf(q);
    if(idx === -1) return -1;

    let score = 0;
    if(idx === 0) score += 6;
    score += Math.max(0, 5 - Math.min(idx, 5));
    score += Math.min(q.length / 4, 4);
    return score;
  }

  function hiText(text, query){
    const q = query.trim();
    if(!q) return text;
    const rx = new RegExp(escapeRegExp(q), "ig");
    return text.replace(rx, (m)=>`<span class="suggest-hi">${m}</span>`);
  }

  function hideSuggest(){
    if(!suggestList) return;
    suggestList.style.display = "none";
    suggestList.innerHTML = "";
    suggestActive = -1;
  }

  function showSuggest(items, query){
    if(!suggestList) return;
    if(!items.length){
      hideSuggest();
      return;
    }
    suggestList.innerHTML = items.map((it, idx) => {
      const line = it.text.length > 120 ? it.text.slice(0, 120) + "‚Ä¶" : it.text;
      return `
        <div class="suggest-item" data-idx="${idx}">
          <div class="suggest-title">${hiText(line, query)}</div>
        </div>
      `;
    }).join("");
    suggestList.style.display = "block";
  }

  function getSuggestions(query){
    const q = query.trim();
    if(q.length < 1) return [];
    return indexItems
      .map(it => ({ it, s: scoreMatch(q, it.text) }))
      .filter(x => x.s >= 0)
      .sort((a,b) => b.s - a.s)
      .slice(0, MAX_SUGGEST)
      .map(x => x.it);
  }

  function jumpToElement(el, query){
    if(!el) return;
    el.scrollIntoView({ behavior:"smooth", block:"center" });
    highlight(query);
    if(hits.length) setActive(0);
    hideSuggest();
  }

  // ====== EVENTOS ======
  buildIndex();

  searchInput?.addEventListener("input", () => {
    const q = searchInput.value;
    const suggestions = getSuggestions(q);
    showSuggest(suggestions, q);
  });

  suggestList?.addEventListener("click", (e) => {
    const item = e.target.closest(".suggest-item");
    if(!item) return;
    const q = searchInput.value.trim();
    const suggestions = getSuggestions(q);
    const idx = Number(item.dataset.idx);
    const it = suggestions[idx];
    if(it) jumpToElement(it.el, q);
  });

  searchInput?.addEventListener("keydown", (e)=>{
    const q = searchInput.value.trim();
    const suggestions = getSuggestions(q);
    if(!suggestions.length) return;

    const items = Array.from(suggestList.querySelectorAll(".suggest-item"));

    if(e.key === "ArrowDown"){
      e.preventDefault();
      suggestActive = (suggestActive + 1) % items.length;
      items.forEach(x => x.classList.remove("active"));
      items[suggestActive].classList.add("active");
      items[suggestActive].scrollIntoView({ block:"nearest" });
    }
    if(e.key === "ArrowUp"){
      e.preventDefault();
      suggestActive = (suggestActive - 1 + items.length) % items.length;
      items.forEach(x => x.classList.remove("active"));
      items[suggestActive].classList.add("active");
      items[suggestActive].scrollIntoView({ block:"nearest" });
    }
    if(e.key === "Enter"){
      if(suggestActive >= 0 && suggestions[suggestActive]){
        e.preventDefault();
        jumpToElement(suggestions[suggestActive].el, q);
      }else{
        highlight(q);
        hideSuggest();
      }
    }
    if(e.key === "Escape"){
      hideSuggest();
    }
  });

  document.addEventListener("click", (e)=>{
    const wrap = e.target.closest(".search-wrap");
    if(!wrap) hideSuggest();
  });

  searchBtn?.addEventListener("click", () => {
    const q = searchInput.value.trim();
    highlight(q);
    hideSuggest();
  });

  nextBtn?.addEventListener("click", ()=> setActive(activeIndex + 1));
  prevBtn?.addEventListener("click", ()=> setActive(activeIndex - 1));

  clearBtn?.addEventListener("click", ()=>{
    searchInput.value = "";
    clearMarks();
    meta.textContent = "Sin b√∫squeda activa.";
    hideSuggest();
  });

  // ===== Reveal al aparecer en pantalla (FIX + FALLBACK) =====
  (function(){
    const targets = [
      ...document.querySelectorAll(".section"),
      ...document.querySelectorAll(".figure"),
      ...document.querySelectorAll(".search-wrap")
    ];

    // Marca todos como "reveal"
    targets.forEach(el => el.classList.add("gp-reveal"));

    // Helper: revela si est√° en viewport (fallback)
    function revealInView(){
      const vh = window.innerHeight || document.documentElement.clientHeight;
      const trigger = vh * 0.88; // antes de llegar
      let pending = 0;

      for(const el of targets){
        if(el.classList.contains("is-in")) continue;
        const r = el.getBoundingClientRect();
        if(r.top < trigger && r.bottom > 0){
          el.classList.add("is-in");
        }else{
          pending++;
        }
      }

      // Failsafe: si por alguna raz√≥n quedan colgados, los mostramos igual
      // (evita ‚Äúhuecos‚Äù como tu 7-9 y 9-11)
      if(pending){
        clearTimeout(revealInView.__t);
        revealInView.__t = setTimeout(()=>{
          // si el usuario ya scrolle√≥ un buen rato, libera todo lo que quede
          // (sin romper animaci√≥n de los primeros)
          const y = window.scrollY || document.documentElement.scrollTop || 0;
          if(y > 900){
            targets.forEach(el => el.classList.add("is-in"));
          }
        }, 1800);
      }
    }

    // IntersectionObserver (principal)
    if("IntersectionObserver" in window){
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            e.target.classList.add("is-in");
            io.unobserve(e.target);
          }
        });
      }, {
        threshold: 0.10,
        rootMargin: "120px 0px 120px 0px" // ayuda con im√°genes/iframes y sticky header
      });

      targets.forEach(el => io.observe(el));

      // adem√°s, fallback por si hay saltos de layout (carga de im√°genes)
      window.addEventListener("scroll", revealInView, { passive:true });
      window.addEventListener("resize", revealInView);
      window.addEventListener("load", revealInView);

      // primer pase
      requestAnimationFrame(revealInView);
    }else{
      // Si el navegador no soporta IO, mostramos todo.
      targets.forEach(el => el.classList.add("is-in"));
    }
  })();

  // ===== MODAL PARA ABRIR IM√ÅGENES EN GRANDE =====
(function(){
  const modal = document.getElementById("imgModal");
  const target = document.getElementById("imgModalTarget");
  if(!modal || !target) return;

  function openModal(imgEl){
    const src = imgEl.getAttribute("src");
    if(!src) return;

    target.src = src;
    target.alt = imgEl.getAttribute("alt") || "Imagen ampliada";

    modal.classList.add("is-open");
    modal.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    modal.classList.remove("is-open");
    modal.setAttribute("aria-hidden", "true");
    document.body.style.overflow = "";
    target.src = "";
  }

  // Click en cualquier imagen del manual
  document.addEventListener("click", (e) => {
    const img = e.target.closest("img.img-figure");
    if(img){
      openModal(img);
      return;
    }
    // Cerrar si clic en backdrop o bot√≥n
    if(e.target.closest("[data-close='1']")){
      closeModal();
    }
  });

  // ESC para cerrar
  document.addEventListener("keydown", (e)=>{
    if(e.key === "Escape" && modal.classList.contains("is-open")){
      closeModal();
    }
  });
})();

</script>
</body>
</html>